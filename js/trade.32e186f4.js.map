{"version":3,"sources":["webpack:///./src/views/Trade/TradingRecord.vue?1231","webpack:///./src/views/Trade/Trade.vue?3339","webpack:///./src/views/Trade/Slippage.vue?2111","webpack:///./src/views/Trade/Info.vue?f8d0","webpack:///./src/views/Trade/Chart.vue?7951","webpack:///./src/views/Trade/Fees.vue?9fe6","webpack:///./src/views/Trade/UserClinch.vue?166e","webpack:///./src/views/Trade/SymbolDetail.vue?8455","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./src/lib/library.min.js","webpack:///./src/views/Trade/SymboInfo.vue?e081","webpack:///./src/views/Trade/SliderBar.vue?c132","webpack:///./src/views/Trade/Container.vue?2a8c","webpack:///./src/views/Trade/Trading.vue?9080","webpack:///./node_modules/core-js/modules/es.array.splice.js","webpack:///./src/views/Trade/hold.vue?7189","webpack:///./src/views/Trade/Container.vue","webpack:///./src/views/Trade/Trade.vue","webpack:///./src/views/Trade/Trading.vue","webpack:///./src/views/Trade/Slippage.vue","webpack:///./src/views/Trade/Slippage.vue?a073","webpack:///./src/views/Trade/Slippage.vue?f07b","webpack:///./src/views/Trade/SliderBar.vue","webpack:///./src/views/Trade/SliderBar.vue?3520","webpack:///./src/views/Trade/SliderBar.vue?dc45","webpack:///./src/helper/web3.ts","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./src/helper/amm.ts","webpack:///./src/store/modules/tradeConf.ts","webpack:///./node_modules/@ethersproject/bignumber/lib.esm/fixednumber.js","webpack:///./node_modules/@ethersproject/units/lib.esm/_version.js","webpack:///./node_modules/@ethersproject/units/lib.esm/index.js","webpack:///./src/views/Trade/Trading.vue?0dfe","webpack:///./src/views/Trade/Trading.vue?e75f","webpack:///./src/views/Trade/Trade.vue?9855","webpack:///./src/views/Trade/Trade.vue?f99a","webpack:///./src/views/Trade/Info.vue","webpack:///./src/views/Trade/TradingRecord.vue","webpack:///./src/views/Trade/TradingRecord.vue?e04a","webpack:///./src/views/Trade/TradingRecord.vue?5b06","webpack:///./src/views/Trade/SymboInfo.vue","webpack:///./src/views/Trade/SymbolDetail.vue","webpack:///./src/views/Trade/SymbolDetail.vue?3eb7","webpack:///./src/views/Trade/SymbolDetail.vue?48f4","webpack:///./src/views/Trade/Chart.vue","webpack:///./src/lib/datafeed.ts","webpack:///./src/lib/overrides.ts","webpack:///./src/views/Trade/Chart.vue?4b1c","webpack:///./src/views/Trade/Chart.vue?1bd6","webpack:///./src/views/Trade/SymboInfo.vue?3a92","webpack:///./src/views/Trade/SymboInfo.vue?a9b8","webpack:///./src/views/Trade/userRecord.vue","webpack:///./src/views/Trade/hold.vue","webpack:///./src/api/trade/position.ts","webpack:///./src/views/Trade/hold.vue?88be","webpack:///./src/views/Trade/hold.vue?d8a3","webpack:///./src/views/Trade/UserClinch.vue","webpack:///./src/api/trade/tradeHistory.ts","webpack:///./src/views/Trade/UserClinch.vue?7b32","webpack:///./src/views/Trade/UserClinch.vue?d2db","webpack:///./src/views/Trade/Fees.vue","webpack:///./src/api/trade/fundingPayment.ts","webpack:///./src/views/Trade/Fees.vue?4483","webpack:///./src/views/Trade/Fees.vue?fcb8","webpack:///./src/views/Trade/userRecord.vue?92b8","webpack:///./src/views/Trade/userRecord.vue?1152","webpack:///./src/views/Trade/Info.vue?65c3","webpack:///./src/views/Trade/Info.vue?1e29","webpack:///./src/views/Trade/Container.vue?4e94","webpack:///./src/views/Trade/Container.vue?c482","webpack:///./src/views/Trade/userRecord.vue?b305"],"names":["_typeof","obj","Symbol","iterator","module","exports","constructor","prototype","t","e","define","this","Object","assign","o","i","arguments","length","n","hasOwnProperty","call","s","Array","isArray","mobile","disabled_features","enabled_features","width","height","symbol","interval","timezone","container_id","library_path","locale","widgetbar","details","watchlist","watchlist_settings","default_symbols","overrides","studies_overrides","trading_customization","position","order","brokerConfig","configFlags","fullscreen","autosize","debug","logo","time_frames","text","resolution","client_id","user_id","charts_storage_api_version","favorites","intervals","chartTypes","r","_id","Math","random","toString","substring","_ready","_readyHandlers","_onWindowResize","_autoResizeChart","bind","datafeed","Error","_options","preset","concat","console","warn","theme","loading_screen","backgroundColor","_create","onChartReady","push","headerReady","_innerWindowLoaded","then","_innerWindow","onGrayedObjectClicked","_innerAPI","onShortcut","createShortcutAction","subscribe","unsubscribe","chart","setLanguage","remove","setSymbol","changeSymbol","window","removeEventListener","splice","_iFrame","parentNode","removeChild","closePopupsAndDialogs","selectLineTool","selectedLineTool","save","saveChart","load","loadChart","json","extendedData","getSavedCharts","loadChartFromServer","saveChartToServer","removeChartFromServer","onContextMenu","createButton","showNoticeDialog","showConfirmDialog","showLoadChartDialog","showSaveAsChartDialog","symbolInterval","getSymbolInterval","mainSeriesPriceFormatter","getIntervals","getStudiesList","addCustomCSSFile","applyOverrides","applyStudiesOverrides","watchList","activeChart","chartsCount","layout","setLayout","layoutName","changeTheme","takeScreenshot","lockAllDrawingTools","hideAllDrawingTools","magnetEnabled","magnetMode","undoRedoState","tradingViewApi","contentWindow","style","innerHeight","_render","document","getElementById","innerHTML","querySelector","addEventListener","Promise","widgetReady","error","initializationFinished","customFormatters","brokerFactory","studiesOverrides","tradingCustomization","disabledFeatures","enabledFeatures","restConfig","numeric_formatting","rss_news_feed","newsProvider","news_provider","loadLastChart","load_last_chart","saveLoadAdapter","save_load_adapter","settingsAdapter","settings_adapter","getCustomIndicators","custom_indicators_getter","saved_data","chartContent","encodeURIComponent","timeframe","toolbar_bg","replace","studies_access","JSON","stringify","drawings_access","String","charts_storage_url","custom_css_url","auto_save_delay","snapshot_url","study_count_limit","symbol_search_request_delay","TradingView","version","widget","defineProperty","value","$","toAbsoluteIndex","toInteger","toLength","toObject","arraySpeciesCreate","createProperty","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","ACCESSORS","0","1","max","min","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","target","proto","forced","start","deleteCount","insertCount","actualDeleteCount","A","k","from","to","O","len","actualStart","argumentsLength","TypeError","class","prefixCls","open","isOpen","handleClose","handleChangeTab","positionType","BUY","tabIndex","SELL","volume","type","placeholder","handleChange","$event","InputType","VOLUME","tokenInfo","coin","amount","AMOUNT","href","handleAll","updateRatio","updateSlippage","openPrice","tradeFee","total","userBalance","disabled","loading","transactionPending","handleClick","errorText","slippageLists","point","index","key","slippage","ref","name","emits","data","setup","_","emit","useDesign","val","nVal","oVal","render","__scopeId","ratio","slider","sliderBg","trunk","scale","offsetWidth","onmousedown","_width","disX","clientX","sliderBgWidth","onmousemove","newWidth","ceil","onmouseup","provider","contract","config","address","assets","getSigner","approve","clearingHouse","reject","_arrayWithoutHoles","arr","arrayLikeToArray","_iterableToArray","iter","_nonIterableSpread","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","GAS_LIMIT_BUFFER","AmmContract","action","params","estimateGas","gasLimitNumber","gasLimit","toNumber","floor","NAME","tokens","selectedToken","info","result","market","decimals","setTokens","payload","setSelectedTokenInfo","dynamic","namespaced","store","tradeConfStore","logger","_constructorGuard","Zero","NegativeOne","throwFault","message","fault","operation","undefined","throwError","errors","NUMERIC_FAULT","zeros","getMultiplier","throwArgumentError","formatFixed","multiplier","negative","lt","mul","fraction","mod","match","whole","div","parseFixed","comps","split","wholeValue","fractionValue","wei","add","constructorGuard","signed","UNSUPPORTED_OPERATION","_multiplier","freeze","parseInt","check","defaultValue","hex","format","checkNew","_hex","_value","_isFixedNumber","other","_checkFormat","a","b","fromValue","sub","hasFraction","isNegative","subUnsafe","ONE","addUnsafe","factor","mulUnsafe","BUMP","divUnsafe","fromTwos","toTwos","toHexString","parseFloat","fromString","fixedFormat","numeric","decimal","fromBytes","code","INVALID_ARGUMENT","names","formatUnits","unitName","indexOf","parseUnits","formatEther","parseEther","ether","components","SlipPoint","SliderBar","slipPoint","leverage","rate","price","getSelectedTokenInfo","num","times","isNaN","toFixed","unlock","loadingBar","setLoading","POSITION","getProvider","log","NONE","activeInput","plus","getAccountState","balances","account","connector","id","isUnlocked","Trade","Unlock","Connect","getLoadingState","validation","actionText","WRONG_NETWORK","INVALID_INPUT","TOO_MIN","TOO_MAX","INSUFFICIENT_BALANCE","allowances","metaData","allowance","allowanceNumber","allowanceRaw","gte","chainId","inputError","NO_ACCOUNT","EMPTY","EMPTY_INPUT","gt","assetMetadata","assetDecimals","assetBalanceRaw","assetBalance","assetAmount","d","Number","connect","modal","setConnectorModalState","openPosition","tx","waitForTransaction","hash","commitNotify","ERROR","fetchAssets","resultNum","isEqualTo","Trading","list","time","bigNumberForamte","dataFormate","cmd","c","m","selectedTokenInfo","symbolInfo","handleShowTokenList","iconClass","showTokenList","handleSelectToken","colorStyle","chgSign","chg","placement","trigger","content","markPrice","indexPrice","oneDayVolume","capitalRate","selectedTokenIndex","getTokens","commitSelectedTokenInfo","listen","body","chartMask","options","configuration","subscribers","requesting","callback","resolve","fetchConfiguration","defaultConfiguration","userInput","exchange","symbolType","onResult","fetchSearchSymbols","catch","symbolName","onSymbolResolvedCallback","onResolveErrorCallback","fetchResolveSymbol","onHistoryCallback","onErrorCallback","firstDataRequest","getBars","bars","meta","onRealtimeCallback","subscriberUID","onResetCacheNeededCallback","lastBarTime","listener","bar","listenerGuid","subscriptionRecord","resolutionBack","intervalBack","calculateHistoryDepth","startDate","endDate","onDataCallback","getMarks","getTimescaleMarks","supports_timescale_marks","getServerTime","supports_time","supported_resolutions","supports_marks","getOverrides","themes","white","up","down","bg","grid","cross","border","areatop","areadown","line","black","volumePaneSize","showLegend","intervalMap","buttons","title","chartType","show","props","context","pricescale","pow","get","_widget","studies","getKLine","j","subscribeKLine","tick","unsubscribeKLine","resolveSymbol","toLocaleUpperCase","full_name","description","session","listed_exchange","minmov","volume_precision","has_intraday","innerWidth","res","noData","item","high","low","close","vol","sort","l","createStudy","MA7","MA30","MA60","chartTypeCache","button","buttonElement","className","setAttribute","textContent","set","activeEle","setChartType","setResolution","toggleStudy","forEach","study","getStudyById","setVisible","initTradingView","_symbol","SymbolDetail","Chart","klineRef","tabLists","handleChageTab","Api","ModalType","pendding","lists","lerve","closePrice","margin","marginRate","unrealized","handleClickModal","EARNEST_MONEY","CLOSE_POSITION","positionInfo","earnestMoney","closePosition","positionApi","request","url","method","fetchPosition","realized","fee","getTradeHistoryApi","TRADE_HISTORY","fetchUserClinch","getFundingPaymentApi","FUNFING_PAYMENT","fetchFundingPayment","Hold","UserClinch","Fee","TradingRecord","SymbolInfo","UserRecord","Info","getConnectorsModalState","fetchTokens"],"mappings":"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","file":"js/trade.32e186f4.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./TradingRecord.vue?vue&type=style&index=0&id=6c031ce6&lang=less&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Trade.vue?vue&type=style&index=0&id=33110770&lang=less&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Slippage.vue?vue&type=style&index=0&id=4006c106&lang=less&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Info.vue?vue&type=style&index=0&id=5c5b03ed&lang=less&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Chart.vue?vue&type=style&index=0&id=092e60ea&lang=less&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Fees.vue?vue&type=style&index=0&id=689238e7&lang=less&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./UserClinch.vue?vue&type=style&index=0&id=4d3d5625&lang=less&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SymbolDetail.vue?vue&type=style&index=0&id=f00690a4&lang=less&scoped=true\"","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","/* eslint-disable */\n!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?e(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],e):e(t.TradingView={})}(this,function(t){\"use strict\";var e=Object.assign||function(t){for(var e,o=1,i=arguments.length;o<i;o++)for(var n in e=arguments[o])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t};function o(t,i){var n=e({},t);for(var s in i)\"object\"!=typeof t[s]||null===t[s]||Array.isArray(t[s])?void 0!==i[s]&&(n[s]=i[s]):n[s]=o(t[s],i[s]);return n}var i={mobile:{disabled_features:[\"left_toolbar\",\"header_widget\",\"timeframes_toolbar\",\"edit_buttons_in_legend\",\"context_menus\",\"control_bar\",\"border_around_the_chart\"],enabled_features:[]}},n={width:800,height:500,symbol:\"AA\",interval:\"D\",timezone:\"Etc/UTC\",container_id:\"\",library_path:\"\",locale:\"en\",widgetbar:{details:!1,watchlist:!1,watchlist_settings:{default_symbols:[]}},overrides:{\"mainSeriesProperties.showCountdown\":!1},studies_overrides:{},trading_customization:{position:{},order:{}},brokerConfig:{configFlags:{}},fullscreen:!1,autosize:!1,disabled_features:[],enabled_features:[],debug:!1,logo:{},time_frames:[{text:\"5y\",resolution:\"W\"},{text:\"1y\",resolution:\"W\"},{text:\"6m\",resolution:\"120\"},{text:\"3m\",resolution:\"60\"},{text:\"1m\",resolution:\"30\"},{text:\"5d\",resolution:\"5\"},{text:\"1d\",resolution:\"1\"}],client_id:\"0\",user_id:\"0\",charts_storage_api_version:\"1.0\",favorites:{intervals:[],chartTypes:[]}};function s(){return\"1.15 dev (internal id c63b141f @ 2019-10-31 04:30:54.420652)\"}var r=function(){function t(t){if(this._id=\"tradingview_\"+(1048576*(1+Math.random())|0).toString(16).substring(1),this._ready=!1,this._readyHandlers=[],this._onWindowResize=this._autoResizeChart.bind(this),!t.datafeed)throw new Error(\"Datafeed is not defined\");if(this._options=o(n,t),t.preset){var e=i[t.preset];e?(void 0!==this._options.disabled_features?this._options.disabled_features=this._options.disabled_features.concat(e.disabled_features):this._options.disabled_features=e.disabled_features,void 0!==this._options.enabled_features?this._options.enabled_features=this._options.enabled_features.concat(e.enabled_features):this._options.enabled_features=e.enabled_features):console.warn(\"Unknown preset: `\"+t.preset+\"`\")}\"Dark\"===this._options.theme&&void 0===this._options.loading_screen&&(this._options.loading_screen={backgroundColor:\"#131722\"}),this._create()}return t.prototype.onChartReady=function(t){this._ready?t.call(this):this._readyHandlers.push(t)},t.prototype.headerReady=function(){var t=this;return this._innerWindowLoaded.then(function(){return t._innerWindow().headerReady()})},t.prototype.onGrayedObjectClicked=function(t){this._innerAPI().onGrayedObjectClicked(t)},t.prototype.onShortcut=function(t,e){this._innerWindow().createShortcutAction(t,e)},t.prototype.subscribe=function(t,e){this._innerAPI().subscribe(t,e)},t.prototype.unsubscribe=function(t,e){this._innerAPI().unsubscribe(t,e)},t.prototype.chart=function(t){return this._innerAPI().chart(t)},t.prototype.setLanguage=function(t){this.remove(),this._options.locale=t,this._create()},t.prototype.setSymbol=function(t,e,o){this._innerAPI().changeSymbol(t,e+\"\",o)},t.prototype.remove=function(){window.removeEventListener(\"resize\",this._onWindowResize),this._readyHandlers.splice(0,this._readyHandlers.length),delete window[this._id],this._iFrame.parentNode&&this._iFrame.parentNode.removeChild(this._iFrame)},t.prototype.closePopupsAndDialogs=function(){this._innerAPI().closePopupsAndDialogs()},t.prototype.selectLineTool=function(t){this._innerAPI().selectLineTool(t)},t.prototype.selectedLineTool=function(){return this._innerAPI().selectedLineTool()},t.prototype.save=function(t){this._innerAPI().saveChart(t)},t.prototype.load=function(t,e){this._innerAPI().loadChart({json:t,extendedData:e})},t.prototype.getSavedCharts=function(t){this._innerAPI().getSavedCharts(t)},t.prototype.loadChartFromServer=function(t){this._innerAPI().loadChartFromServer(t)},t.prototype.saveChartToServer=function(t,e,o){this._innerAPI().saveChartToServer(t,e,o)},t.prototype.removeChartFromServer=function(t,e){this._innerAPI().removeChartFromServer(t,e)},t.prototype.onContextMenu=function(t){this._innerAPI().onContextMenu(t)},t.prototype.createButton=function(t){return this._innerWindow().createButton(t)},t.prototype.showNoticeDialog=function(t){this._innerAPI().showNoticeDialog(t)},t.prototype.showConfirmDialog=function(t){this._innerAPI().showConfirmDialog(t)},t.prototype.showLoadChartDialog=function(){this._innerAPI().showLoadChartDialog()},t.prototype.showSaveAsChartDialog=function(){this._innerAPI().showSaveAsChartDialog()},t.prototype.symbolInterval=function(){return this._innerAPI().getSymbolInterval()},t.prototype.mainSeriesPriceFormatter=function(){return this._innerAPI().mainSeriesPriceFormatter()},t.prototype.getIntervals=function(){return this._innerAPI().getIntervals()},t.prototype.getStudiesList=function(){return this._innerAPI().getStudiesList()},t.prototype.addCustomCSSFile=function(t){this._innerWindow().addCustomCSSFile(t)},t.prototype.applyOverrides=function(t){this._options=o(this._options,{overrides:t}),this._innerWindow().applyOverrides(t)},t.prototype.applyStudiesOverrides=function(t){this._innerWindow().applyStudiesOverrides(t)},t.prototype.watchList=function(){return this._innerAPI().watchlist()},t.prototype.activeChart=function(){return this._innerAPI().activeChart()},t.prototype.chartsCount=function(){return this._innerAPI().chartsCount()},t.prototype.layout=function(){return this._innerAPI().layout()},t.prototype.setLayout=function(t){this._innerAPI().setLayout(t)},t.prototype.layoutName=function(){return this._innerAPI().layoutName()},t.prototype.changeTheme=function(t){this._innerWindow().changeTheme(t)},t.prototype.takeScreenshot=function(){this._innerAPI().takeScreenshot()},t.prototype.lockAllDrawingTools=function(){return this._innerAPI().lockAllDrawingTools()},t.prototype.hideAllDrawingTools=function(){return this._innerAPI().hideAllDrawingTools()},t.prototype.magnetEnabled=function(){return this._innerAPI().magnetEnabled()},t.prototype.magnetMode=function(){return this._innerAPI().magnetMode()},t.prototype.undoRedoState=function(){return this._innerAPI().undoRedoState()},t.prototype._innerAPI=function(){return this._innerWindow().tradingViewApi},t.prototype._innerWindow=function(){return this._iFrame.contentWindow},t.prototype._autoResizeChart=function(){this._options.fullscreen&&(this._iFrame.style.height=window.innerHeight+\"px\")},t.prototype._create=function(){var t=this,e=this._render(),o=document.getElementById(this._options.container_id);if(null===o)throw new Error(\"There is no such element - #\"+this._options.container_id);o.innerHTML=e,this._iFrame=o.querySelector(\"#\"+this._id);var i=this._iFrame;(this._options.autosize||this._options.fullscreen)&&(i.style.width=\"100%\",this._options.fullscreen||(i.style.height=\"100%\")),window.addEventListener(\"resize\",this._onWindowResize),this._onWindowResize(),this._innerWindowLoaded=new Promise(function(t){var e=function(){i.removeEventListener(\"load\",e,!1),t()};i.addEventListener(\"load\",e,!1)}),this._innerWindowLoaded.then(function(){t._innerWindow().widgetReady(function(){t._ready=!0;for(var e=0,o=t._readyHandlers;e<o.length;e++){var i=o[e];try{i.call(t)}catch(t){console.error(t)}}t._innerWindow().initializationFinished()})})},t.prototype._render=function(){var t=window;t[this._id]={datafeed:this._options.datafeed,customFormatters:this._options.customFormatters,brokerFactory:this._options.brokerFactory,overrides:this._options.overrides,studiesOverrides:this._options.studies_overrides,tradingCustomization:this._options.trading_customization,disabledFeatures:this._options.disabled_features,enabledFeatures:this._options.enabled_features,brokerConfig:this._options.brokerConfig,restConfig:this._options.restConfig,favorites:this._options.favorites,logo:this._options.logo,numeric_formatting:this._options.numeric_formatting,rss_news_feed:this._options.rss_news_feed,newsProvider:this._options.news_provider,loadLastChart:this._options.load_last_chart,saveLoadAdapter:this._options.save_load_adapter,loading_screen:this._options.loading_screen,settingsAdapter:this._options.settings_adapter,getCustomIndicators:this._options.custom_indicators_getter},this._options.saved_data&&(t[this._id].chartContent={json:this._options.saved_data});var e=(this._options.library_path||\"\")+\"static/\"+encodeURIComponent(this._options.locale)+\"-tv-chart.c63b141fec55a3c31066.html#symbol=\"+encodeURIComponent(this._options.symbol)+\"&interval=\"+encodeURIComponent(this._options.interval)+(this._options.timeframe?\"&timeframe=\"+encodeURIComponent(this._options.timeframe):\"\")+(this._options.toolbar_bg?\"&toolbarbg=\"+encodeURIComponent(this._options.toolbar_bg.replace(\"#\",\"\")):\"\")+(this._options.studies_access?\"&studiesAccess=\"+encodeURIComponent(JSON.stringify(this._options.studies_access)):\"\")+\"&widgetbar=\"+encodeURIComponent(JSON.stringify(this._options.widgetbar))+(this._options.drawings_access?\"&drawingsAccess=\"+encodeURIComponent(JSON.stringify(this._options.drawings_access)):\"\")+\"&timeFrames=\"+encodeURIComponent(JSON.stringify(this._options.time_frames))+\"&locale=\"+encodeURIComponent(this._options.locale)+\"&uid=\"+encodeURIComponent(this._id)+\"&clientId=\"+encodeURIComponent(String(this._options.client_id))+\"&userId=\"+encodeURIComponent(String(this._options.user_id))+(this._options.charts_storage_url?\"&chartsStorageUrl=\"+encodeURIComponent(this._options.charts_storage_url):\"\")+(this._options.charts_storage_api_version?\"&chartsStorageVer=\"+encodeURIComponent(this._options.charts_storage_api_version):\"\")+(this._options.custom_css_url?\"&customCSS=\"+encodeURIComponent(this._options.custom_css_url):\"\")+(this._options.auto_save_delay?\"&autoSaveDelay=\"+encodeURIComponent(String(this._options.auto_save_delay)):\"\")+\"&debug=\"+encodeURIComponent(String(this._options.debug))+(this._options.snapshot_url?\"&snapshotUrl=\"+encodeURIComponent(this._options.snapshot_url):\"\")+(this._options.timezone?\"&timezone=\"+encodeURIComponent(this._options.timezone):\"\")+(this._options.study_count_limit?\"&studyCountLimit=\"+encodeURIComponent(String(this._options.study_count_limit)):\"\")+(this._options.symbol_search_request_delay?\"&ssreqdelay=\"+encodeURIComponent(String(this._options.symbol_search_request_delay)):\"\")+(this._options.theme?\"&theme=\"+encodeURIComponent(String(this._options.theme)):\"\");return'<iframe id=\"'+this._id+'\" name=\"'+this._id+'\"  src=\"'+e+'\"'+(this._options.autosize||this._options.fullscreen?\"\":' width=\"'+this._options.width+'\" height=\"'+this._options.height+'\"')+' frameborder=\"0\" allowTransparency=\"true\" scrolling=\"no\" allowfullscreen style=\"display:block;\"></iframe>'},t}();window.TradingView=window.TradingView||{},window.TradingView.version=s,t.version=s,t.widget=r,Object.defineProperty(t,\"__esModule\",{value:!0})});\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SymboInfo.vue?vue&type=style&index=0&id=c776dde2&lang=less&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SliderBar.vue?vue&type=style&index=0&id=3a6d24ce&lang=less&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Container.vue?vue&type=style&index=0&id=d8ef25f4&lang=less&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Trading.vue?vue&type=style&index=0&id=005d5d4e&lang=less&scoped=true\"","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('splice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.es/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./hold.vue?vue&type=style&index=0&id=0c2e21d2&lang=less&scoped=true\"","<!--\n * @Author: your name\n * @Date: 2021-02-25 10:58:08\n * @LastEditTime: 2021-03-16 17:47:22\n * @LastEditors: Please set LastEditors\n * @Description: In User Settings Edit\n * @FilePath: /fronted_v2/src/views/Trade/Container.vue\n-->\n<template>\n  <div>\n    <Header />\n    <div :class=\"`${prefixCls}`\">\n      <div :class=\"`${prefixCls}__container--left`\">\n        <Info />\n      </div>\n      <div :class=\"`${prefixCls}__container--right`\">\n        <Trade />\n      </div>\n    </div>\n    <Teleport to=\"#modals\">\n      <ModalConnectors :open=\"isOpen\" @close=\"handleClose\" />\n    </Teleport>\n  </div>\n</template>\n<script lang=\"ts\">\n  import { computed, defineComponent, onMounted } from 'vue';\n  import Trade from './Trade.vue';\n  import Info from './Info.vue';\n  import { useDesign } from '@/hooks/useDesign';\n  import { tradeConfStore } from '@/store/modules/tradeConf';\n  import { modalStore } from '@/store/modules/modal';\n  export default defineComponent({\n    name: 'container',\n    components: {\n      Trade,\n      Info,\n    },\n    setup() {\n      const { prefixCls } = useDesign('trade-wrap');\n      const isOpen = computed(() => {\n        return modalStore.getConnectorsModalState;\n      });\n\n      function handleClose() {\n        modalStore.setConnectorModalState(false);\n      }\n      onMounted(() => {\n        // 请求交易配置信息\n        tradeConfStore.fetchTokens();\n      });\n      return { prefixCls, isOpen, handleClose };\n    },\n  });\n</script>\n<style lang=\"less\" scoped>\n  @prefix-cls:~ '@{namespace}-trade-wrap';\n  .@{prefix-cls} {\n    @apply flex flex-row;\n    &__container {\n      &--left {\n        flex: 1;\n        margin-right: 4px;\n      }\n      &--right {\n        width: 300px;\n        min-width: 260px;\n        @apply bg-gray-490;\n      }\n    }\n  }\n</style>\n","<!--\n * @Author: your name\n * @Date: 2021-02-25 11:53:28\n * @LastEditTime: 2021-03-22 15:57:35\n * @LastEditors: Please set LastEditors\n * @Description: In User Settings Edit\n * @FilePath: /fronted_v2/src/views/Trade/Trade.vue\n-->\n<template>\n  <div :class=\"`${prefixCls}`\">\n    <p :class=\"`${prefixCls}__title`\">交易</p>\n    <div :class=\"`${prefixCls}__main`\">\n      <!-- <DepositAndWithdraw /> -->\n      <Trading />\n    </div>\n  </div>\n</template>\n<script lang=\"ts\">\n  import { defineComponent, onMounted } from 'vue';\n  import { useDesign } from '@/hooks/useDesign';\n  // import DepositAndWithdraw from './DepositAndWithdraw.vue';\n  import Trading from './Trading.vue';\n  export default defineComponent({\n    name: 'trade',\n    components: {\n      // DepositAndWithdraw,\n      Trading,\n    },\n    setup() {\n      const { prefixCls } = useDesign('trade');\n      return { prefixCls };\n    },\n  });\n</script>\n<style lang=\"less\" scoped>\n  @prefix-cls:~ '@{namespace}-trade';\n  .@{prefix-cls} {\n    @apply bg-gray-490 px-4;\n    &__title {\n      height: 40px;\n      line-height: 39px;\n      border-color: rgba(#f7f7f7, 0.1);\n      border-bottom-style: solid;\n      @apply text-white text-left;\n    }\n  }\n</style>\n","<template>\n  <div :class=\"`${prefixCls}`\">\n    <div :class=\"`${prefixCls}__tabs`\">\n      <span\n        @click=\"handleChangeTab(positionType.BUY)\"\n        :class=\"{ green: tabIndex == positionType.BUY }\"\n        >买入开多</span\n      >\n      <span\n        @click=\"handleChangeTab(positionType.SELL)\"\n        :class=\"{ red: tabIndex == positionType.SELL }\"\n        >卖出开空</span\n      >\n    </div>\n    <div class=\"mt-6\">\n      <div :class=\"`${prefixCls}__input`\">\n        <p :class=\"`${prefixCls}__input--title`\">\n          <span class=\"text-xs\">数量</span>\n        </p>\n        <div :class=\"`${prefixCls}__input--wrap`\">\n          <input\n            :value=\"volume\"\n            type=\"text\"\n            placeholder=\"0.0\"\n            class=\"placeholder-gray-440 text-gray-440\"\n            @input=\"handleChange($event, InputType.VOLUME)\"\n          />\n          <div :class=\"`${prefixCls}__input--options`\">\n            <span class=\"text-gray-440 ml-4 text-sm uppercase\">{{ tokenInfo?.coin }}</span>\n          </div>\n        </div>\n      </div>\n\n      <div :class=\"`${prefixCls}__input`\" class=\"mt-5\">\n        <p :class=\"`${prefixCls}__input--title`\">\n          <span class=\"text-xs\">抵押金</span>\n        </p>\n        <div :class=\"`${prefixCls}__input--wrap`\">\n          <input\n            :value=\"amount\"\n            type=\"text\"\n            placeholder=\"0.0\"\n            class=\"placeholder-gray-440 text-gray-440\"\n            @input=\"handleChange($event, InputType.AMOUNT)\"\n          />\n          <div :class=\"`${prefixCls}__input--options`\">\n            <a href=\"javascript:;\" class=\"cursor-pointer select-none text-sm\" @click=\"handleAll\"\n              >全部</a\n            >\n            <span class=\"text-gray-440 ml-4 text-sm\">USDT</span>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- 杠杆倍数 leverage ratio-->\n    <div class=\"mt-5 pb-8\">\n      <SliderBar @update:ratio=\"updateRatio\" />\n    </div>\n\n    <!-- 滑点偏移公差 slipPoint.vue-->\n    <div class=\"mt-5\">\n      <SlipPoint @update:slippage=\"updateSlippage\" />\n    </div>\n\n    <!-- 下单数据详细 -->\n    <div class=\"mt-5\">\n      <ul :class=\"`${prefixCls}__detail`\">\n        <li>\n          <div>入场价格</div>\n          <div>{{ openPrice }} <span>USDT</span></div>\n        </li>\n        <li>\n          <div>交易手续费</div>\n          <div>{{ tradeFee }} <span>USDT</span></div>\n        </li>\n        <li>\n          <div>总花费</div>\n          <div>{{ total }} <span>USDT</span></div>\n        </li>\n        <li>\n          <div>可用余额</div>\n          <div>{{ userBalance }} <span>USDT</span></div>\n        </li>\n      </ul>\n    </div>\n    <!-- 下单按钮 -->\n    <div class=\"mt-9 pb-8\">\n      <UiButton\n        :disabled=\"disabled\"\n        :loading=\"transactionPending\"\n        :class=\"[tabIndex === positionType.BUY ? 'green' : 'red', disabled ? 'disabled' : '']\"\n        @click=\"handleClick\"\n      >\n        {{ text }}\n      </UiButton>\n      <p class=\"text-xs text-red-420 mt-5\">{{ errorText }}</p>\n    </div>\n  </div>\n</template>\n<script lang=\"ts\">\n  import { defineComponent, ref, computed, watch } from 'vue';\n  import { useDesign } from '@/hooks/useDesign';\n  import SlipPoint from './Slippage.vue';\n  import SliderBar from './SliderBar.vue';\n  import { loadingBarStore, LoadingStatus } from '@/store/modules/loadingBar';\n  import ClearingHouse from '@/helper/clearingHouse';\n  import Web3Helper from '@/helper/web3';\n  import { accountStore } from '@/store/modules/account';\n  import { modalStore } from '@/store/modules/modal';\n  import { Web3Provider } from '@ethersproject/providers';\n  import config from '@/config';\n  import BigNumber from 'bignumber.js';\n  import { scale } from '@/utils';\n  import { BigNumber as BN } from '@ethersproject/bignumber';\n  import { notifyStore, NotifyType } from '@/store/modules/notifications';\n  import { formateInput } from '@/utils';\n  import { positionApi } from '@/api/trade/position';\n  import { AmmContract } from '@/helper/amm';\n  import { tradeConfStore, SelectedTokenInfo } from '@/store/modules/tradeConf';\n  import {\n    ValidationError,\n    validateNumberInput,\n    PositionValidation,\n    InputType,\n    Type,\n    positionType,\n  } from '@/utils/validation';\n  import { formatEther, parseEther, parseUnits } from '@ethersproject/units';\n\n  export default defineComponent({\n    name: 'trading',\n    components: { SlipPoint, SliderBar },\n    setup() {\n      const tabIndex = ref<positionType>(positionType.BUY);\n      const slipPoint = ref<number>(0.5);\n      const leverage = ref(5);\n      // 开平仓费率\n      const rate = ref(0.01);\n      // 入场价格\n      const price = ref(52907.09);\n      // quoteAssetAmount   开仓本金\n      const amount = ref('');\n      /**\n       * 可获得token数量\n       * volume 计算公示   volume = 开仓本金 * 杠杆 / 价格\n       */\n      const volume = ref('');\n      const { prefixCls } = useDesign('trading');\n      const tokenInfo = computed<SelectedTokenInfo | null>(() => {\n        return tradeConfStore.getSelectedTokenInfo;\n      });\n      const handleChangeTab = (index: number) => {\n        tabIndex.value = index;\n      };\n      // 滑点\n      const updateSlippage = (val: number) => {\n        slipPoint.value = val;\n      };\n      // 杠杆倍数\n      const updateRatio = (val: number) => {\n        leverage.value = val;\n      };\n      // 开仓均价\n      const openPrice = computed(() => {\n        const num = new BigNumber(amount.value)\n          .times(new BigNumber(leverage.value))\n          .div(new BigNumber(volume.value));\n        if (num.isNaN()) return '0';\n        return num.toNumber().toFixed(2);\n      });\n      const unlock = async () => {\n        loadingBarStore.setLoading(LoadingStatus.POSITION);\n        try {\n          const provider = await accountStore.getProvider();\n          const result = await Web3Helper.approve(provider as Web3Provider);\n          console.log('succ');\n        } catch (error) {\n          console.log('fail');\n        } finally {\n          loadingBarStore.setLoading(LoadingStatus.NONE);\n        }\n      };\n      const activeInput = computed(() => {\n        return amount.value || volume.value;\n      });\n      // 交易手续费\n      const tradeFee = computed(() => {\n        const num = new BigNumber(amount.value).times(new BigNumber(rate.value));\n        if (num.isNaN()) return 0;\n        return num.toNumber().toFixed(2);\n      });\n      // 总花费\n      const total = computed(() => {\n        const num = new BigNumber(amount.value)\n          .times(new BigNumber(rate.value))\n          .plus(new BigNumber(amount.value));\n        if (num.isNaN()) return 0;\n        return num.toNumber().toFixed(2);\n      });\n      const userBalance = computed(() => {\n        const { balances, address } = accountStore.getAccountState;\n        if (!address || !balances[address]) return 0;\n\n        return scale(new BigNumber(balances[address].toString()), -6).toString();\n      });\n      const account = computed(() => {\n        const { connector, address } = accountStore.getAccountState;\n        if (!connector || !connector.id || !address) {\n          return '';\n        }\n        return address;\n      });\n      const type = computed(() => {\n        if (!account.value) {\n          return Type.Connect;\n        }\n        if (!isUnlocked.value) {\n          return Type.Unlock;\n        } else {\n          return Type.Trade;\n        }\n      });\n      const transactionPending = computed(() => {\n        return loadingBarStore.getLoadingState === LoadingStatus.POSITION;\n      });\n      const disabled = computed(() => {\n        if (type.value !== Type.Connect) return validation.value !== PositionValidation.NONE;\n        return false;\n        // if (type.value === Type.Connect) {\n        //   const { connector, address } = accountStore.getAccountState;\n        //   return !!connector && !!connector.id && !address;\n        // } else {\n        //   return validation.value !== PositionValidation.NONE;\n        // }\n      });\n      const text = computed(() => {\n        return actionText.value;\n        // if (loading.value) {\n        //   return actionText.value;\n        // }\n        // if (disabled.value) {\n        //   return actionText.value;\n        // } else {\n        //   return actionText.value;\n        // }\n      });\n      const actionText = computed(() => {\n        if (type.value === Type.Connect) {\n          return 'Connect Wallet';\n        }\n        if (type.value === Type.Unlock) {\n          return 'Unlock';\n        }\n        if (type.value === Type.Trade) {\n          return tabIndex.value === positionType.BUY ? '买入开多（看涨）' : '卖出开空（看跌）';\n        }\n        return '';\n      });\n      const errorText = computed(() => {\n        if (validation.value === PositionValidation.WRONG_NETWORK) {\n          return 'Wrong network';\n        }\n        // @note 未输入值不提示\n        // if (validation.value === PositionValidation.EMPTY_INPUT) {\n        //   return '请输入数值';\n        // }\n        if (validation.value === PositionValidation.INVALID_INPUT) {\n          return '数值输入错误';\n        }\n        if (validation.value === PositionValidation.TOO_MIN) {\n          return '单笔最小开仓数为10USDT';\n        }\n        if (validation.value === PositionValidation.TOO_MAX) {\n          return '单笔最大开仓保证金1000000USDT';\n        }\n        if (validation.value === PositionValidation.INSUFFICIENT_BALANCE) {\n          return '资金不足';\n        }\n        return '';\n      });\n      const loading = computed(() => {\n        if (type.value === Type.Connect) {\n          const { connector, address } = accountStore.getAccountState;\n          return !!connector && !!connector.id && !address;\n        } else {\n          return false;\n        }\n      });\n      const isUnlocked = computed(() => {\n        const { allowances, metaData, address } = accountStore.getAccountState;\n\n        const { clearingHouse, assets } = config.address;\n        if (\n          parseFloat(volume.value.toString()) <= 0 ||\n          isNaN(parseFloat(volume.value.toString()))\n        ) {\n          return true;\n        }\n        if (!allowances[clearingHouse]) {\n          return true;\n        }\n        const allowance = allowances[clearingHouse][assets];\n\n        if (!allowance) {\n          return true;\n        }\n        const decimals = metaData[address].decimals;\n\n        if (!decimals) {\n          return true;\n        }\n        const allowanceNumber = new BigNumber(allowance.toString());\n        const allowanceRaw = scale(allowanceNumber, -decimals);\n\n        return allowanceRaw.gte(volume.value);\n      });\n      const validation = computed(() => {\n        // Invalid input\n        const { balances, chainId, metaData, address } = accountStore.getAccountState;\n        const { clearingHouse, assets } = config.address;\n        const inputError = validateNumberInput(activeInput.value.toString());\n        // No account\n        if (!account.value) {\n          return PositionValidation.NO_ACCOUNT;\n        }\n        // Wrong network\n        if (config.chainId !== chainId) {\n          return PositionValidation.WRONG_NETWORK;\n        }\n        if (inputError === ValidationError.EMPTY) {\n          return PositionValidation.EMPTY_INPUT;\n        }\n\n        if (new BigNumber(amount.value).lt(new BigNumber(10))) {\n          return PositionValidation.TOO_MIN;\n        }\n        if (new BigNumber(amount.value).gt(new BigNumber(1000000))) {\n          return PositionValidation.TOO_MAX;\n        }\n        if (inputError !== ValidationError.NONE) {\n          return PositionValidation.INVALID_INPUT;\n        }\n\n        // Insufficient balance\n        const assetMetadata = metaData[address];\n        if (!assetMetadata) {\n          return PositionValidation.INSUFFICIENT_BALANCE;\n        }\n        const assetDecimals = assetMetadata.decimals;\n        const assetBalanceRaw = new BigNumber(balances[address].toString());\n\n        const assetBalance = scale(assetBalanceRaw, -assetDecimals);\n        const assetAmount = new BigNumber(activeInput.value);\n\n        if (!assetBalance || assetAmount.gt(assetBalance)) {\n          return PositionValidation.INSUFFICIENT_BALANCE;\n        }\n        return PositionValidation.NONE;\n      });\n      function handleAll() {\n        amount.value = userBalance.value as string;\n      }\n      async function handleChange(e: any, type: InputType) {\n        // 格式化输入框内容\n        const value = formateInput(e.target.value);\n        e.target.value = value;\n\n        if (!value || isNaN(parseFloat(value))) {\n          amount.value = '';\n          volume.value = '';\n          return;\n        }\n        if (type === InputType.AMOUNT) {\n          amount.value = value;\n          const provider = (await accountStore.getProvider()) as Web3Provider;\n          const result = await AmmContract(provider, [\n            '0x00e7B36aabe3FCdCe306DCD819F022A853cb5578',\n            'getInputPrice',\n            [\n              BN.from(tabIndex.value === positionType.BUY ? 0 : 1),\n              { d: parseEther((Number(value) * leverage.value).toString()) },\n            ],\n          ]);\n          volume.value = new BigNumber(formatEther(result.d)).toFixed(7);\n          return;\n        }\n        if (type === InputType.VOLUME) {\n          volume.value = value;\n          const provider = (await accountStore.getProvider()) as Web3Provider;\n          const result = await AmmContract(provider, [\n            '0x00e7B36aabe3FCdCe306DCD819F022A853cb5578',\n            'getOutputPrice',\n            [\n              BN.from(tabIndex.value === positionType.BUY ? 0 : 1),\n              { d: parseEther((Number(value) * leverage.value).toString()) },\n            ],\n          ]);\n          amount.value = new BigNumber(formatEther(result.d)).toFixed(2);\n          return;\n        }\n      }\n      async function handleClick() {\n        if (type.value === Type.Connect) {\n          // @todo 链接metamask\n          connect();\n        } else if (type.value === Type.Unlock) {\n          // 授权解锁\n          unlock();\n        } else {\n          console.log(validation.value);\n          position();\n          // @todo 开仓\n        }\n      }\n      function connect() {\n        modalStore.setConnectorModalState(true);\n      }\n      async function position() {\n        if (\n          validation.value === PositionValidation.EMPTY_INPUT ||\n          validation.value === PositionValidation.INVALID_INPUT ||\n          !tokenInfo.value?.address\n        ) {\n          return '';\n        }\n        try {\n          loadingBarStore.setLoading(LoadingStatus.POSITION);\n          const provider = (await accountStore.getProvider()) as Web3Provider;\n          const tx = await ClearingHouse.openPosition(\n            provider,\n            tokenInfo.value?.address,\n            BN.from(tabIndex.value),\n            parseEther(amount.value),\n            parseEther(leverage.value.toString()),\n            // @todo execution reverted: Less than minimal base token\n            parseEther('0')\n          );\n\n          const transactionReceipt = await provider.waitForTransaction(tx.hash, 1);\n          volume.value = '';\n          amount.value = '';\n        } catch (error) {\n          if (error.data && error.data.message) {\n            notifyStore.commitNotify([error.data.message, NotifyType.ERROR]);\n          } else {\n            console.error(error);\n          }\n        } finally {\n          loadingBarStore.setLoading(LoadingStatus.NONE);\n        }\n      }\n      const address = computed(() => {\n        return accountStore.getAccountState.address;\n      });\n      watch(address, (val) => {\n        accountStore.fetchAssets(val);\n      });\n      watch([leverage, amount], async (val) => {\n        const provider = (await accountStore.getProvider()) as Web3Provider;\n        const result = await AmmContract(provider, [\n          tokenInfo.value?.address,\n          'getInputPrice',\n          [\n            BN.from(tabIndex.value === positionType.BUY ? 0 : 1),\n            { d: parseEther((Number(amount.value) * Number(leverage.value)).toString()) },\n          ],\n        ]);\n        const resultNum = formatEther(result.d);\n        if (new BigNumber(resultNum).isEqualTo(0)) {\n          volume.value = '';\n          return;\n        }\n\n        volume.value = new BigNumber(resultNum).toFixed(7);\n      });\n      return {\n        prefixCls,\n        tabIndex,\n        tokenInfo,\n        handleChangeTab,\n        updateSlippage,\n        updateRatio,\n        handleClick,\n        disabled,\n        loading,\n        text,\n        validation,\n        errorText,\n        volume,\n        amount,\n        handleChange,\n        positionType,\n        userBalance,\n        InputType,\n        price,\n        tradeFee,\n        total,\n        transactionPending,\n        openPrice,\n        handleAll,\n      };\n    },\n  });\n</script>\n<style lang=\"less\" scoped>\n  @prefix-cls:~ '@{namespace}-trading';\n  .@{prefix-cls} {\n    border-top: 1px solid rgba(#f7f7f7, 0.1);\n    &__tabs {\n      @apply flex flex-row justify-between mt-7 relative;\n      &:after {\n        @apply absolute left-0 bottom-0 block w-full bg-gray-410 opacity-10;\n        height: 2px;\n        content: '';\n      }\n      span {\n        border-bottom: 3px solid transparent;\n        @apply flex-1 cursor-pointer text-lg pb-1 text-gray-460 text-center;\n        &.green {\n          @apply border-green-410 text-green-410;\n        }\n        &.red {\n          @apply border-red-410 text-red-410;\n        }\n      }\n    }\n\n    &__detail {\n      @apply text-gray-460 text-xs mt-2;\n      li {\n        @apply flex flex-row justify-between mt-3;\n      }\n      span {\n        @apply text-white;\n      }\n    }\n\n    &__input {\n      input {\n        height: 36px;\n        border-color: rgba(#f7f7f7, 0.1);\n        @apply bg-gray-480 text-gray-460;\n      }\n      &--title {\n        @apply text-base text-gray-460 text-left;\n      }\n      &--wrap {\n        @apply relative mt-1;\n        height: 40px;\n      }\n      input {\n        @apply rounded-base w-full border h-full outline-none pl-4 leading-none;\n      }\n      &--options {\n        @apply absolute flex flex-row items-end leading-5 right-4 top-1/2 text-base;\n        margin-top: -10px;\n      }\n    }\n  }\n</style>\n","<!--\n * @Author: your name\n * @Date: 2021-02-26 10:16:29\n * @LastEditTime: 2021-03-16 17:15:34\n * @LastEditors: Please set LastEditors\n * @Description: In User Settings Edit\n * @FilePath: /fronted_v2/src/views/Trade/SlipPoint.vue\n-->\n<template>\n  <div>\n    <p class=\"text-xs text-gray-460 text-left\">滑点偏移公差</p>\n    <div :class=\"`${prefixCls}`\">\n      <span\n        v-for=\"(point, index) in slippageLists\"\n        :key=\"index\"\n        :class=\"{ active: slippage == point }\"\n        @click=\"handleClick(point)\"\n        >{{ point }}%</span\n      >\n      <input ref=\"slipPointIpt\" type=\"text\" placeholder=\"自定义\" v-model=\"slippage\" />\n    </div>\n  </div>\n</template>\n<script lang=\"ts\">\n  import { defineComponent, ref, unref, watch } from 'vue';\n  import { useDesign } from '@/hooks/useDesign';\n  export default defineComponent({\n    name: 'slippage',\n    emits: ['update:slippage'],\n    data() {\n      return {\n        slippageLists: [0.01, 0.5, 1],\n      };\n    },\n    setup(_, { emit }) {\n      const slippage = ref<number>(0.5);\n      const slipPointIpt = ref();\n      const { prefixCls } = useDesign('slip-point');\n      const handleClick = (val: number) => {\n        slippage.value = val;\n      };\n      watch(slippage, (nVal, oVal) => {\n        emit('update:slippage', nVal);\n      });\n      return { prefixCls, slippage, handleClick };\n    },\n  });\n</script>\n<style lang=\"less\" scoped>\n  @prefix-cls:~ '@{namespace}-slip-point';\n  .@{prefix-cls} {\n    border-bottom: 1px solid rgba(#f7f7f7, 0.1);\n    @apply flex flex-row justify-between mt-3 pb-5;\n    span,\n    input {\n      width: 22%;\n      height: 26px;\n      line-height: 26px;\n      border-color: rgba(#f7f7f7, 0.1);\n      @apply border rounded-base text-center text-gray-460 text-xs hover:text-white cursor-pointer;\n      &:hover {\n        .border-gradient();\n      }\n      &.active {\n        @apply text-white;\n        .border-gradient();\n      }\n    }\n    span {\n      @apply flex items-center justify-center;\n    }\n    input {\n      @apply placeholder-gray-460 focus:text-white bg-transparent outline-none;\n      &:focus {\n        .border-gradient();\n      }\n    }\n  }\n</style>\n","\n  import { defineComponent, ref, unref, watch } from 'vue';\n  import { useDesign } from '@/hooks/useDesign';\n  export default defineComponent({\n    name: 'slippage',\n    emits: ['update:slippage'],\n    data() {\n      return {\n        slippageLists: [0.01, 0.5, 1],\n      };\n    },\n    setup(_, { emit }) {\n      const slippage = ref<number>(0.5);\n      const slipPointIpt = ref();\n      const { prefixCls } = useDesign('slip-point');\n      const handleClick = (val: number) => {\n        slippage.value = val;\n      };\n      watch(slippage, (nVal, oVal) => {\n        emit('update:slippage', nVal);\n      });\n      return { prefixCls, slippage, handleClick };\n    },\n  });\n","import { render } from \"./Slippage.vue?vue&type=template&id=4006c106&scoped=true\"\nimport script from \"./Slippage.vue?vue&type=script&lang=ts\"\nexport * from \"./Slippage.vue?vue&type=script&lang=ts\"\n\nimport \"./Slippage.vue?vue&type=style&index=0&id=4006c106&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-4006c106\"\n\nexport default script","<!--\n * @Author: your name\n * @Date: 2021-02-26 14:10:03\n * @LastEditTime: 2021-03-19 18:33:02\n * @LastEditors: Please set LastEditors\n * @Description: In User Settings Edit\n * @FilePath: /fronted_v2/src/views/Trade/SliderBar.vue\n-->\n<template>\n  <div class=\"select-none\">\n    <p class=\"text-xs text-left text-gray-460\">杠杆倍数</p>\n    <div ref=\"sliderBg\" :class=\"`${prefixCls}`\">\n      <span :class=\"`${prefixCls}__min`\">1x</span>\n      <div ref=\"slider\" :class=\"`${prefixCls}__progress`\" :style=\"{ width: `${width}px` }\">\n        <span ref=\"trunk\" :class=\"`${prefixCls}__point`\"><i></i></span>\n        <span v-if=\"ratio > min\" :class=\"`${prefixCls}__current`\">{{ ratio }}x</span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, onMounted, ref, computed, watch } from 'vue';\n  import { useDesign } from '@/hooks/useDesign';\n  export default defineComponent({\n    name: 'sliderBar',\n    emits: ['update:ratio'],\n    setup(_, { emit }) {\n      const min = 1;\n      const max = 20;\n      const slider = ref();\n      const sliderBg = ref();\n      const trunk = ref();\n      const ratio = ref(5);\n      const { prefixCls } = useDesign('sliderbar');\n      const scale = computed<number>(() => {\n        return (ratio.value - min) / (max - min);\n      });\n      const width = computed<number>(() => {\n        if (slider.value) {\n          return sliderBg.value.offsetWidth * scale.value;\n        }\n        return 0;\n      });\n      onMounted(() => {\n        trunk.value.onmousedown = (e: any) => {\n          const _width: number = width.value;\n          const disX = e.clientX;\n          const sliderBgWidth = sliderBg.value.offsetWidth;\n          document.onmousemove = (e: any) => {\n            const newWidth = e.clientX - disX + _width;\n            const scale = newWidth / sliderBgWidth;\n            ratio.value = Math.ceil((max - min) * scale + min);\n            ratio.value = Math.max(ratio.value, min);\n            ratio.value = Math.min(ratio.value, max);\n          };\n\n          document.onmouseup = (e: any) => {\n            document.onmousemove = document.onmouseup = null;\n          };\n        };\n      });\n      watch(ratio, (nVal, oVal) => {\n        emit('update:ratio', nVal);\n      });\n      return { prefixCls, slider, trunk, width, ratio, min, sliderBg };\n    },\n  });\n</script>\n<style lang=\"less\" scoped>\n  @prefix-cls:~ '@{namespace}-sliderbar';\n  .@{prefix-cls} {\n    background: rgba(#f7f7f7, 0.1);\n    @apply relative h-1 w-full rounded-sm mt-3;\n    &__min {\n      @apply absolute left-0 top-4 text-xs text-gray-460;\n    }\n    &__progress {\n      @apply relative h-1 rounded-sm w-0;\n      .bg-gradient();\n    }\n    &__current {\n      right: -6px;\n      top: 16px;\n      @apply absolute text-xs text-white;\n    }\n    &__point {\n      width: 12px;\n      height: 12px;\n      right: -6px;\n      top: -4px;\n      @apply absolute rounded-full flex justify-center items-center cursor-pointer;\n      .bg-gradient();\n      i {\n        width: 6px;\n        height: 6px;\n        @apply block rounded-full bg-black;\n      }\n    }\n  }\n</style>\n","\n  import { defineComponent, onMounted, ref, computed, watch } from 'vue';\n  import { useDesign } from '@/hooks/useDesign';\n  export default defineComponent({\n    name: 'sliderBar',\n    emits: ['update:ratio'],\n    setup(_, { emit }) {\n      const min = 1;\n      const max = 20;\n      const slider = ref();\n      const sliderBg = ref();\n      const trunk = ref();\n      const ratio = ref(5);\n      const { prefixCls } = useDesign('sliderbar');\n      const scale = computed<number>(() => {\n        return (ratio.value - min) / (max - min);\n      });\n      const width = computed<number>(() => {\n        if (slider.value) {\n          return sliderBg.value.offsetWidth * scale.value;\n        }\n        return 0;\n      });\n      onMounted(() => {\n        trunk.value.onmousedown = (e: any) => {\n          const _width: number = width.value;\n          const disX = e.clientX;\n          const sliderBgWidth = sliderBg.value.offsetWidth;\n          document.onmousemove = (e: any) => {\n            const newWidth = e.clientX - disX + _width;\n            const scale = newWidth / sliderBgWidth;\n            ratio.value = Math.ceil((max - min) * scale + min);\n            ratio.value = Math.max(ratio.value, min);\n            ratio.value = Math.min(ratio.value, max);\n          };\n\n          document.onmouseup = (e: any) => {\n            document.onmousemove = document.onmouseup = null;\n          };\n        };\n      });\n      watch(ratio, (nVal, oVal) => {\n        emit('update:ratio', nVal);\n      });\n      return { prefixCls, slider, trunk, width, ratio, min, sliderBg };\n    },\n  });\n","import { render } from \"./SliderBar.vue?vue&type=template&id=3a6d24ce&scoped=true\"\nimport script from \"./SliderBar.vue?vue&type=script&lang=ts\"\nexport * from \"./SliderBar.vue?vue&type=script&lang=ts\"\n\nimport \"./SliderBar.vue?vue&type=style&index=0&id=3a6d24ce&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-3a6d24ce\"\n\nexport default script","/*\n * @Author: your name\n * @Date: 2021-03-03 18:37:01\n * @LastEditTime: 2021-03-04 15:11:12\n * @LastEditors: Please set LastEditors\n * @Description: In User Settings Edit\n * @FilePath: /fronted_v2/src/helper/web3.ts\n */\nimport { Web3Provider } from '@ethersproject/providers';\nimport { Contract } from '@ethersproject/contracts';\nimport { MaxUint256 } from '@ethersproject/constants';\nimport config from '@/config';\nimport erc20Abi from '@/helper/abi/MockERC20.json';\nexport default class Web3Helper {\n  static async approve(provider: Web3Provider) {\n    try {\n      const contract: Contract = new Contract(\n        config.address.assets,\n        erc20Abi,\n        provider.getSigner()\n      );\n      await contract.approve(config.address.clearingHouse, MaxUint256);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  }\n}\n","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","/*\n * @Author: your name\n * @Date: 2021-03-19 10:54:06\n * @LastEditTime: 2021-03-19 16:16:15\n * @LastEditors: Please set LastEditors\n * @Description: In User Settings Edit\n * @FilePath: /fronted_v2/src/helper/amm.ts\n */\nimport { Contract } from '@ethersproject/contracts';\nimport { Web3Provider } from '@ethersproject/providers';\nimport ammAbi from '@/helper/abi/Amm.json';\nimport { BigNumber } from '@ethersproject/bignumber';\n\nconst GAS_LIMIT_BUFFER = 0.1;\n/**\n * @description:\n * @param {Web3Provider} provider\n * @param {any} param2\n * @return {*}\n */\nexport async function AmmContract(\n  provider: Web3Provider,\n  [address, action, params, overrides = {}]: any\n) {\n  const contract: Contract = new Contract(address, ammAbi, provider.getSigner());\n  try {\n    // Gas estimation\n    const gasLimitNumber = await contract.estimateGas[action](...params, overrides);\n\n    const gasLimit = gasLimitNumber.toNumber();\n    overrides.gasLimit = Math.floor(gasLimit * (1 + GAS_LIMIT_BUFFER));\n    return await contract[action](...params, overrides);\n  } catch (error) {\n    return Promise.reject(error);\n  }\n}\n// export default class Amm {\n//   /**\n//    * @description: 取池子币对数量\n//    * @param {Web3Provider} provider\n//    * @param {string} address\n//    * @return {*}\n//    */\n//   static async getReserve(provider: Web3Provider, address: string) {\n//     try {\n//       const contract: Contract = new Contract(address, ammAbi, provider.getSigner());\n//       return await contract.getReserve();\n//     } catch (error) {\n//       return Promise.reject(error);\n//     }\n//   }\n\n//   /**\n//    * @description: 根据U计算可获得token数量\n//    * @param {Web3Provider} provider\n//    * @param {string} address\n//    * @param {BigNumber} direction\n//    * @param {BigNumber} amount\n//    * @return {*}\n//    */\n//   static async getInputPrice(\n//     provider: Web3Provider,\n//     address: string,\n//     direction: BigNumber,\n//     amount: BigNumber\n//   ) {\n//     try {\n//       const contract: Contract = new Contract(address, ammAbi, provider.getSigner());\n//       return await contract.getInputPrice(direction, { d: amount });\n//     } catch (error) {\n//       return Promise.reject(error);\n//     }\n//   }\n//   /**\n//    * @description: 根据token计算所需U数量\n//    * @param {Web3Provider} provider\n//    * @param {string} address\n//    * @param {BigNumber} direction\n//    * @param {BigNumber} amount\n//    * @return {*}\n//    */\n//   static async getOutputPrice(\n//     provider: Web3Provider,\n//     address: string,\n//     direction: BigNumber,\n//     amount: BigNumber\n//   ) {\n//     try {\n//       const contract: Contract = new Contract(address, ammAbi, provider.getSigner());\n//       return await contract.getOutputPrice(direction, { d: amount });\n//     } catch (error) {\n//       return Promise.reject(error);\n//     }\n//   }\n// }\n","/*\n * @Author: your name\n * @Date: 2021-03-09 17:56:05\n * @LastEditTime: 2021-03-23 09:41:06\n * @LastEditors: Please set LastEditors\n * @Description: In User Settings Edit\n * @FilePath: /fronted_v2/src/store/modules/tradeConf.ts\n */\nimport { VuexModule, Module, getModule, Mutation, Action } from 'vuex-module-decorators';\nimport store from '@/store';\nimport { getConfigApi } from '@/api/trade/config';\ninterface Tokens {\n  [key: string]: any;\n}\nexport interface SelectedTokenInfo {\n  coin: string;\n  market: string;\n  decimals: number;\n  address: string;\n}\ninterface TradeConfProps {\n  tokens: Array<Tokens>;\n  selectedToken: SelectedTokenInfo | null;\n}\n\nconst NAME = 'tradeConf';\n@Module({ dynamic: true, namespaced: true, store, name: NAME })\nclass TradeConf extends VuexModule {\n  private config: TradeConfProps = {\n    tokens: [],\n    selectedToken: null,\n  };\n\n  get getTokens() {\n    return this.config.tokens;\n  }\n  get getSelectedTokenInfo(): SelectedTokenInfo | null {\n    return this.config.selectedToken;\n  }\n  @Mutation\n  setTokens(tokens): void {\n    this.config.tokens = tokens;\n  }\n  @Mutation\n  setSelectedTokenInfo(info: SelectedTokenInfo): void {\n    this.config.selectedToken = info;\n  }\n  @Action\n  async fetchTokens() {\n    // const result = await getConfigApi();\n    const result = [\n      {\n        coin: 'btc',\n        market: 'usdc',\n        decimals: 0,\n        address: '0x00e7B36aabe3FCdCe306DCD819F022A853cb5578',\n      },\n      {\n        coin: 'eth',\n        market: 'usdc',\n        decimals: 3,\n        address: '0x00e7B36aabe3FCdCe306DCD819F022A853cb5578',\n      },\n    ];\n    this.setTokens(result);\n  }\n  @Action\n  commitSelectedTokenInfo(payload: SelectedTokenInfo) {\n    this.setSelectedTokenInfo(payload);\n  }\n}\n\nexport const tradeConfStore = getModule<TradeConf>(TradeConf);\n","\"use strict\";\nimport { arrayify, hexZeroPad, isBytes } from \"@ethersproject/bytes\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nimport { BigNumber, isBigNumberish } from \"./bignumber\";\nconst _constructorGuard = {};\nconst Zero = BigNumber.from(0);\nconst NegativeOne = BigNumber.from(-1);\nfunction throwFault(message, fault, operation, value) {\n    const params = { fault: fault, operation: operation };\n    if (value !== undefined) {\n        params.value = value;\n    }\n    return logger.throwError(message, Logger.errors.NUMERIC_FAULT, params);\n}\n// Constant to pull zeros from for multipliers\nlet zeros = \"0\";\nwhile (zeros.length < 256) {\n    zeros += zeros;\n}\n// Returns a string \"1\" followed by decimal \"0\"s\nfunction getMultiplier(decimals) {\n    if (typeof (decimals) !== \"number\") {\n        try {\n            decimals = BigNumber.from(decimals).toNumber();\n        }\n        catch (e) { }\n    }\n    if (typeof (decimals) === \"number\" && decimals >= 0 && decimals <= 256 && !(decimals % 1)) {\n        return (\"1\" + zeros.substring(0, decimals));\n    }\n    return logger.throwArgumentError(\"invalid decimal size\", \"decimals\", decimals);\n}\nexport function formatFixed(value, decimals) {\n    if (decimals == null) {\n        decimals = 0;\n    }\n    const multiplier = getMultiplier(decimals);\n    // Make sure wei is a big number (convert as necessary)\n    value = BigNumber.from(value);\n    const negative = value.lt(Zero);\n    if (negative) {\n        value = value.mul(NegativeOne);\n    }\n    let fraction = value.mod(multiplier).toString();\n    while (fraction.length < multiplier.length - 1) {\n        fraction = \"0\" + fraction;\n    }\n    // Strip training 0\n    fraction = fraction.match(/^([0-9]*[1-9]|0)(0*)/)[1];\n    const whole = value.div(multiplier).toString();\n    value = whole + \".\" + fraction;\n    if (negative) {\n        value = \"-\" + value;\n    }\n    return value;\n}\nexport function parseFixed(value, decimals) {\n    if (decimals == null) {\n        decimals = 0;\n    }\n    const multiplier = getMultiplier(decimals);\n    if (typeof (value) !== \"string\" || !value.match(/^-?[0-9.,]+$/)) {\n        logger.throwArgumentError(\"invalid decimal value\", \"value\", value);\n    }\n    if (multiplier.length - 1 === 0) {\n        return BigNumber.from(value);\n    }\n    // Is it negative?\n    const negative = (value.substring(0, 1) === \"-\");\n    if (negative) {\n        value = value.substring(1);\n    }\n    if (value === \".\") {\n        logger.throwArgumentError(\"missing value\", \"value\", value);\n    }\n    // Split it into a whole and fractional part\n    const comps = value.split(\".\");\n    if (comps.length > 2) {\n        logger.throwArgumentError(\"too many decimal points\", \"value\", value);\n    }\n    let whole = comps[0], fraction = comps[1];\n    if (!whole) {\n        whole = \"0\";\n    }\n    if (!fraction) {\n        fraction = \"0\";\n    }\n    // Prevent underflow\n    if (fraction.length > multiplier.length - 1) {\n        throwFault(\"fractional component exceeds decimals\", \"underflow\", \"parseFixed\");\n    }\n    // Fully pad the string with zeros to get to wei\n    while (fraction.length < multiplier.length - 1) {\n        fraction += \"0\";\n    }\n    const wholeValue = BigNumber.from(whole);\n    const fractionValue = BigNumber.from(fraction);\n    let wei = (wholeValue.mul(multiplier)).add(fractionValue);\n    if (negative) {\n        wei = wei.mul(NegativeOne);\n    }\n    return wei;\n}\nexport class FixedFormat {\n    constructor(constructorGuard, signed, width, decimals) {\n        if (constructorGuard !== _constructorGuard) {\n            logger.throwError(\"cannot use FixedFormat constructor; use FixedFormat.from\", Logger.errors.UNSUPPORTED_OPERATION, {\n                operation: \"new FixedFormat\"\n            });\n        }\n        this.signed = signed;\n        this.width = width;\n        this.decimals = decimals;\n        this.name = (signed ? \"\" : \"u\") + \"fixed\" + String(width) + \"x\" + String(decimals);\n        this._multiplier = getMultiplier(decimals);\n        Object.freeze(this);\n    }\n    static from(value) {\n        if (value instanceof FixedFormat) {\n            return value;\n        }\n        let signed = true;\n        let width = 128;\n        let decimals = 18;\n        if (typeof (value) === \"string\") {\n            if (value === \"fixed\") {\n                // defaults...\n            }\n            else if (value === \"ufixed\") {\n                signed = false;\n            }\n            else if (value != null) {\n                const match = value.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);\n                if (!match) {\n                    logger.throwArgumentError(\"invalid fixed format\", \"format\", value);\n                }\n                signed = (match[1] !== \"u\");\n                width = parseInt(match[2]);\n                decimals = parseInt(match[3]);\n            }\n        }\n        else if (value) {\n            const check = (key, type, defaultValue) => {\n                if (value[key] == null) {\n                    return defaultValue;\n                }\n                if (typeof (value[key]) !== type) {\n                    logger.throwArgumentError(\"invalid fixed format (\" + key + \" not \" + type + \")\", \"format.\" + key, value[key]);\n                }\n                return value[key];\n            };\n            signed = check(\"signed\", \"boolean\", signed);\n            width = check(\"width\", \"number\", width);\n            decimals = check(\"decimals\", \"number\", decimals);\n        }\n        if (width % 8) {\n            logger.throwArgumentError(\"invalid fixed format width (not byte aligned)\", \"format.width\", width);\n        }\n        if (decimals > 80) {\n            logger.throwArgumentError(\"invalid fixed format (decimals too large)\", \"format.decimals\", decimals);\n        }\n        return new FixedFormat(_constructorGuard, signed, width, decimals);\n    }\n}\nexport class FixedNumber {\n    constructor(constructorGuard, hex, value, format) {\n        logger.checkNew(new.target, FixedNumber);\n        if (constructorGuard !== _constructorGuard) {\n            logger.throwError(\"cannot use FixedNumber constructor; use FixedNumber.from\", Logger.errors.UNSUPPORTED_OPERATION, {\n                operation: \"new FixedFormat\"\n            });\n        }\n        this.format = format;\n        this._hex = hex;\n        this._value = value;\n        this._isFixedNumber = true;\n        Object.freeze(this);\n    }\n    _checkFormat(other) {\n        if (this.format.name !== other.format.name) {\n            logger.throwArgumentError(\"incompatible format; use fixedNumber.toFormat\", \"other\", other);\n        }\n    }\n    addUnsafe(other) {\n        this._checkFormat(other);\n        const a = parseFixed(this._value, this.format.decimals);\n        const b = parseFixed(other._value, other.format.decimals);\n        return FixedNumber.fromValue(a.add(b), this.format.decimals, this.format);\n    }\n    subUnsafe(other) {\n        this._checkFormat(other);\n        const a = parseFixed(this._value, this.format.decimals);\n        const b = parseFixed(other._value, other.format.decimals);\n        return FixedNumber.fromValue(a.sub(b), this.format.decimals, this.format);\n    }\n    mulUnsafe(other) {\n        this._checkFormat(other);\n        const a = parseFixed(this._value, this.format.decimals);\n        const b = parseFixed(other._value, other.format.decimals);\n        return FixedNumber.fromValue(a.mul(b).div(this.format._multiplier), this.format.decimals, this.format);\n    }\n    divUnsafe(other) {\n        this._checkFormat(other);\n        const a = parseFixed(this._value, this.format.decimals);\n        const b = parseFixed(other._value, other.format.decimals);\n        return FixedNumber.fromValue(a.mul(this.format._multiplier).div(b), this.format.decimals, this.format);\n    }\n    floor() {\n        let comps = this.toString().split(\".\");\n        let result = FixedNumber.from(comps[0], this.format);\n        const hasFraction = !comps[1].match(/^(0*)$/);\n        if (this.isNegative() && hasFraction) {\n            result = result.subUnsafe(ONE);\n        }\n        return result;\n    }\n    ceiling() {\n        let comps = this.toString().split(\".\");\n        let result = FixedNumber.from(comps[0], this.format);\n        const hasFraction = !comps[1].match(/^(0*)$/);\n        if (!this.isNegative() && hasFraction) {\n            result = result.addUnsafe(ONE);\n        }\n        return result;\n    }\n    // @TODO: Support other rounding algorithms\n    round(decimals) {\n        if (decimals == null) {\n            decimals = 0;\n        }\n        // If we are already in range, we're done\n        let comps = this.toString().split(\".\");\n        if (decimals < 0 || decimals > 80 || (decimals % 1)) {\n            logger.throwArgumentError(\"invalid decimal count\", \"decimals\", decimals);\n        }\n        if (comps[1].length <= decimals) {\n            return this;\n        }\n        const factor = FixedNumber.from(\"1\" + zeros.substring(0, decimals));\n        return this.mulUnsafe(factor).addUnsafe(BUMP).floor().divUnsafe(factor);\n    }\n    isZero() {\n        return (this._value === \"0.0\");\n    }\n    isNegative() {\n        return (this._value[0] === \"-\");\n    }\n    toString() { return this._value; }\n    toHexString(width) {\n        if (width == null) {\n            return this._hex;\n        }\n        if (width % 8) {\n            logger.throwArgumentError(\"invalid byte width\", \"width\", width);\n        }\n        const hex = BigNumber.from(this._hex).fromTwos(this.format.width).toTwos(width).toHexString();\n        return hexZeroPad(hex, width / 8);\n    }\n    toUnsafeFloat() { return parseFloat(this.toString()); }\n    toFormat(format) {\n        return FixedNumber.fromString(this._value, format);\n    }\n    static fromValue(value, decimals, format) {\n        // If decimals looks more like a format, and there is no format, shift the parameters\n        if (format == null && decimals != null && !isBigNumberish(decimals)) {\n            format = decimals;\n            decimals = null;\n        }\n        if (decimals == null) {\n            decimals = 0;\n        }\n        if (format == null) {\n            format = \"fixed\";\n        }\n        return FixedNumber.fromString(formatFixed(value, decimals), FixedFormat.from(format));\n    }\n    static fromString(value, format) {\n        if (format == null) {\n            format = \"fixed\";\n        }\n        const fixedFormat = FixedFormat.from(format);\n        const numeric = parseFixed(value, fixedFormat.decimals);\n        if (!fixedFormat.signed && numeric.lt(Zero)) {\n            throwFault(\"unsigned value cannot be negative\", \"overflow\", \"value\", value);\n        }\n        let hex = null;\n        if (fixedFormat.signed) {\n            hex = numeric.toTwos(fixedFormat.width).toHexString();\n        }\n        else {\n            hex = numeric.toHexString();\n            hex = hexZeroPad(hex, fixedFormat.width / 8);\n        }\n        const decimal = formatFixed(numeric, fixedFormat.decimals);\n        return new FixedNumber(_constructorGuard, hex, decimal, fixedFormat);\n    }\n    static fromBytes(value, format) {\n        if (format == null) {\n            format = \"fixed\";\n        }\n        const fixedFormat = FixedFormat.from(format);\n        if (arrayify(value).length > fixedFormat.width / 8) {\n            throw new Error(\"overflow\");\n        }\n        let numeric = BigNumber.from(value);\n        if (fixedFormat.signed) {\n            numeric = numeric.fromTwos(fixedFormat.width);\n        }\n        const hex = numeric.toTwos((fixedFormat.signed ? 0 : 1) + fixedFormat.width).toHexString();\n        const decimal = formatFixed(numeric, fixedFormat.decimals);\n        return new FixedNumber(_constructorGuard, hex, decimal, fixedFormat);\n    }\n    static from(value, format) {\n        if (typeof (value) === \"string\") {\n            return FixedNumber.fromString(value, format);\n        }\n        if (isBytes(value)) {\n            return FixedNumber.fromBytes(value, format);\n        }\n        try {\n            return FixedNumber.fromValue(value, 0, format);\n        }\n        catch (error) {\n            // Allow NUMERIC_FAULT to bubble up\n            if (error.code !== Logger.errors.INVALID_ARGUMENT) {\n                throw error;\n            }\n        }\n        return logger.throwArgumentError(\"invalid FixedNumber value\", \"value\", value);\n    }\n    static isFixedNumber(value) {\n        return !!(value && value._isFixedNumber);\n    }\n}\nconst ONE = FixedNumber.from(1);\nconst BUMP = FixedNumber.from(\"0.5\");\n//# sourceMappingURL=fixednumber.js.map","export const version = \"units/5.0.10\";\n//# sourceMappingURL=_version.js.map","\"use strict\";\nimport { formatFixed, parseFixed } from \"@ethersproject/bignumber\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nconst names = [\n    \"wei\",\n    \"kwei\",\n    \"mwei\",\n    \"gwei\",\n    \"szabo\",\n    \"finney\",\n    \"ether\",\n];\n// Some environments have issues with RegEx that contain back-tracking, so we cannot\n// use them.\nexport function commify(value) {\n    const comps = String(value).split(\".\");\n    if (comps.length > 2 || !comps[0].match(/^-?[0-9]*$/) || (comps[1] && !comps[1].match(/^[0-9]*$/)) || value === \".\" || value === \"-.\") {\n        logger.throwArgumentError(\"invalid value\", \"value\", value);\n    }\n    // Make sure we have at least one whole digit (0 if none)\n    let whole = comps[0];\n    let negative = \"\";\n    if (whole.substring(0, 1) === \"-\") {\n        negative = \"-\";\n        whole = whole.substring(1);\n    }\n    // Make sure we have at least 1 whole digit with no leading zeros\n    while (whole.substring(0, 1) === \"0\") {\n        whole = whole.substring(1);\n    }\n    if (whole === \"\") {\n        whole = \"0\";\n    }\n    let suffix = \"\";\n    if (comps.length === 2) {\n        suffix = \".\" + (comps[1] || \"0\");\n    }\n    while (suffix.length > 2 && suffix[suffix.length - 1] === \"0\") {\n        suffix = suffix.substring(0, suffix.length - 1);\n    }\n    const formatted = [];\n    while (whole.length) {\n        if (whole.length <= 3) {\n            formatted.unshift(whole);\n            break;\n        }\n        else {\n            const index = whole.length - 3;\n            formatted.unshift(whole.substring(index));\n            whole = whole.substring(0, index);\n        }\n    }\n    return negative + formatted.join(\",\") + suffix;\n}\nexport function formatUnits(value, unitName) {\n    if (typeof (unitName) === \"string\") {\n        const index = names.indexOf(unitName);\n        if (index !== -1) {\n            unitName = 3 * index;\n        }\n    }\n    return formatFixed(value, (unitName != null) ? unitName : 18);\n}\nexport function parseUnits(value, unitName) {\n    if (typeof (value) !== \"string\") {\n        logger.throwArgumentError(\"value must be a string\", \"value\", value);\n    }\n    if (typeof (unitName) === \"string\") {\n        const index = names.indexOf(unitName);\n        if (index !== -1) {\n            unitName = 3 * index;\n        }\n    }\n    return parseFixed(value, (unitName != null) ? unitName : 18);\n}\nexport function formatEther(wei) {\n    return formatUnits(wei, 18);\n}\nexport function parseEther(ether) {\n    return parseUnits(ether, 18);\n}\n//# sourceMappingURL=index.js.map","\n  import { defineComponent, ref, computed, watch } from 'vue';\n  import { useDesign } from '@/hooks/useDesign';\n  import SlipPoint from './Slippage.vue';\n  import SliderBar from './SliderBar.vue';\n  import { loadingBarStore, LoadingStatus } from '@/store/modules/loadingBar';\n  import ClearingHouse from '@/helper/clearingHouse';\n  import Web3Helper from '@/helper/web3';\n  import { accountStore } from '@/store/modules/account';\n  import { modalStore } from '@/store/modules/modal';\n  import { Web3Provider } from '@ethersproject/providers';\n  import config from '@/config';\n  import BigNumber from 'bignumber.js';\n  import { scale } from '@/utils';\n  import { BigNumber as BN } from '@ethersproject/bignumber';\n  import { notifyStore, NotifyType } from '@/store/modules/notifications';\n  import { formateInput } from '@/utils';\n  import { positionApi } from '@/api/trade/position';\n  import { AmmContract } from '@/helper/amm';\n  import { tradeConfStore, SelectedTokenInfo } from '@/store/modules/tradeConf';\n  import {\n    ValidationError,\n    validateNumberInput,\n    PositionValidation,\n    InputType,\n    Type,\n    positionType,\n  } from '@/utils/validation';\n  import { formatEther, parseEther, parseUnits } from '@ethersproject/units';\n\n  export default defineComponent({\n    name: 'trading',\n    components: { SlipPoint, SliderBar },\n    setup() {\n      const tabIndex = ref<positionType>(positionType.BUY);\n      const slipPoint = ref<number>(0.5);\n      const leverage = ref(5);\n      // 开平仓费率\n      const rate = ref(0.01);\n      // 入场价格\n      const price = ref(52907.09);\n      // quoteAssetAmount   开仓本金\n      const amount = ref('');\n      /**\n       * 可获得token数量\n       * volume 计算公示   volume = 开仓本金 * 杠杆 / 价格\n       */\n      const volume = ref('');\n      const { prefixCls } = useDesign('trading');\n      const tokenInfo = computed<SelectedTokenInfo | null>(() => {\n        return tradeConfStore.getSelectedTokenInfo;\n      });\n      const handleChangeTab = (index: number) => {\n        tabIndex.value = index;\n      };\n      // 滑点\n      const updateSlippage = (val: number) => {\n        slipPoint.value = val;\n      };\n      // 杠杆倍数\n      const updateRatio = (val: number) => {\n        leverage.value = val;\n      };\n      // 开仓均价\n      const openPrice = computed(() => {\n        const num = new BigNumber(amount.value)\n          .times(new BigNumber(leverage.value))\n          .div(new BigNumber(volume.value));\n        if (num.isNaN()) return '0';\n        return num.toNumber().toFixed(2);\n      });\n      const unlock = async () => {\n        loadingBarStore.setLoading(LoadingStatus.POSITION);\n        try {\n          const provider = await accountStore.getProvider();\n          const result = await Web3Helper.approve(provider as Web3Provider);\n          console.log('succ');\n        } catch (error) {\n          console.log('fail');\n        } finally {\n          loadingBarStore.setLoading(LoadingStatus.NONE);\n        }\n      };\n      const activeInput = computed(() => {\n        return amount.value || volume.value;\n      });\n      // 交易手续费\n      const tradeFee = computed(() => {\n        const num = new BigNumber(amount.value).times(new BigNumber(rate.value));\n        if (num.isNaN()) return 0;\n        return num.toNumber().toFixed(2);\n      });\n      // 总花费\n      const total = computed(() => {\n        const num = new BigNumber(amount.value)\n          .times(new BigNumber(rate.value))\n          .plus(new BigNumber(amount.value));\n        if (num.isNaN()) return 0;\n        return num.toNumber().toFixed(2);\n      });\n      const userBalance = computed(() => {\n        const { balances, address } = accountStore.getAccountState;\n        if (!address || !balances[address]) return 0;\n\n        return scale(new BigNumber(balances[address].toString()), -6).toString();\n      });\n      const account = computed(() => {\n        const { connector, address } = accountStore.getAccountState;\n        if (!connector || !connector.id || !address) {\n          return '';\n        }\n        return address;\n      });\n      const type = computed(() => {\n        if (!account.value) {\n          return Type.Connect;\n        }\n        if (!isUnlocked.value) {\n          return Type.Unlock;\n        } else {\n          return Type.Trade;\n        }\n      });\n      const transactionPending = computed(() => {\n        return loadingBarStore.getLoadingState === LoadingStatus.POSITION;\n      });\n      const disabled = computed(() => {\n        if (type.value !== Type.Connect) return validation.value !== PositionValidation.NONE;\n        return false;\n        // if (type.value === Type.Connect) {\n        //   const { connector, address } = accountStore.getAccountState;\n        //   return !!connector && !!connector.id && !address;\n        // } else {\n        //   return validation.value !== PositionValidation.NONE;\n        // }\n      });\n      const text = computed(() => {\n        return actionText.value;\n        // if (loading.value) {\n        //   return actionText.value;\n        // }\n        // if (disabled.value) {\n        //   return actionText.value;\n        // } else {\n        //   return actionText.value;\n        // }\n      });\n      const actionText = computed(() => {\n        if (type.value === Type.Connect) {\n          return 'Connect Wallet';\n        }\n        if (type.value === Type.Unlock) {\n          return 'Unlock';\n        }\n        if (type.value === Type.Trade) {\n          return tabIndex.value === positionType.BUY ? '买入开多（看涨）' : '卖出开空（看跌）';\n        }\n        return '';\n      });\n      const errorText = computed(() => {\n        if (validation.value === PositionValidation.WRONG_NETWORK) {\n          return 'Wrong network';\n        }\n        // @note 未输入值不提示\n        // if (validation.value === PositionValidation.EMPTY_INPUT) {\n        //   return '请输入数值';\n        // }\n        if (validation.value === PositionValidation.INVALID_INPUT) {\n          return '数值输入错误';\n        }\n        if (validation.value === PositionValidation.TOO_MIN) {\n          return '单笔最小开仓数为10USDT';\n        }\n        if (validation.value === PositionValidation.TOO_MAX) {\n          return '单笔最大开仓保证金1000000USDT';\n        }\n        if (validation.value === PositionValidation.INSUFFICIENT_BALANCE) {\n          return '资金不足';\n        }\n        return '';\n      });\n      const loading = computed(() => {\n        if (type.value === Type.Connect) {\n          const { connector, address } = accountStore.getAccountState;\n          return !!connector && !!connector.id && !address;\n        } else {\n          return false;\n        }\n      });\n      const isUnlocked = computed(() => {\n        const { allowances, metaData, address } = accountStore.getAccountState;\n\n        const { clearingHouse, assets } = config.address;\n        if (\n          parseFloat(volume.value.toString()) <= 0 ||\n          isNaN(parseFloat(volume.value.toString()))\n        ) {\n          return true;\n        }\n        if (!allowances[clearingHouse]) {\n          return true;\n        }\n        const allowance = allowances[clearingHouse][assets];\n\n        if (!allowance) {\n          return true;\n        }\n        const decimals = metaData[address].decimals;\n\n        if (!decimals) {\n          return true;\n        }\n        const allowanceNumber = new BigNumber(allowance.toString());\n        const allowanceRaw = scale(allowanceNumber, -decimals);\n\n        return allowanceRaw.gte(volume.value);\n      });\n      const validation = computed(() => {\n        // Invalid input\n        const { balances, chainId, metaData, address } = accountStore.getAccountState;\n        const { clearingHouse, assets } = config.address;\n        const inputError = validateNumberInput(activeInput.value.toString());\n        // No account\n        if (!account.value) {\n          return PositionValidation.NO_ACCOUNT;\n        }\n        // Wrong network\n        if (config.chainId !== chainId) {\n          return PositionValidation.WRONG_NETWORK;\n        }\n        if (inputError === ValidationError.EMPTY) {\n          return PositionValidation.EMPTY_INPUT;\n        }\n\n        if (new BigNumber(amount.value).lt(new BigNumber(10))) {\n          return PositionValidation.TOO_MIN;\n        }\n        if (new BigNumber(amount.value).gt(new BigNumber(1000000))) {\n          return PositionValidation.TOO_MAX;\n        }\n        if (inputError !== ValidationError.NONE) {\n          return PositionValidation.INVALID_INPUT;\n        }\n\n        // Insufficient balance\n        const assetMetadata = metaData[address];\n        if (!assetMetadata) {\n          return PositionValidation.INSUFFICIENT_BALANCE;\n        }\n        const assetDecimals = assetMetadata.decimals;\n        const assetBalanceRaw = new BigNumber(balances[address].toString());\n\n        const assetBalance = scale(assetBalanceRaw, -assetDecimals);\n        const assetAmount = new BigNumber(activeInput.value);\n\n        if (!assetBalance || assetAmount.gt(assetBalance)) {\n          return PositionValidation.INSUFFICIENT_BALANCE;\n        }\n        return PositionValidation.NONE;\n      });\n      function handleAll() {\n        amount.value = userBalance.value as string;\n      }\n      async function handleChange(e: any, type: InputType) {\n        // 格式化输入框内容\n        const value = formateInput(e.target.value);\n        e.target.value = value;\n\n        if (!value || isNaN(parseFloat(value))) {\n          amount.value = '';\n          volume.value = '';\n          return;\n        }\n        if (type === InputType.AMOUNT) {\n          amount.value = value;\n          const provider = (await accountStore.getProvider()) as Web3Provider;\n          const result = await AmmContract(provider, [\n            '0x00e7B36aabe3FCdCe306DCD819F022A853cb5578',\n            'getInputPrice',\n            [\n              BN.from(tabIndex.value === positionType.BUY ? 0 : 1),\n              { d: parseEther((Number(value) * leverage.value).toString()) },\n            ],\n          ]);\n          volume.value = new BigNumber(formatEther(result.d)).toFixed(7);\n          return;\n        }\n        if (type === InputType.VOLUME) {\n          volume.value = value;\n          const provider = (await accountStore.getProvider()) as Web3Provider;\n          const result = await AmmContract(provider, [\n            '0x00e7B36aabe3FCdCe306DCD819F022A853cb5578',\n            'getOutputPrice',\n            [\n              BN.from(tabIndex.value === positionType.BUY ? 0 : 1),\n              { d: parseEther((Number(value) * leverage.value).toString()) },\n            ],\n          ]);\n          amount.value = new BigNumber(formatEther(result.d)).toFixed(2);\n          return;\n        }\n      }\n      async function handleClick() {\n        if (type.value === Type.Connect) {\n          // @todo 链接metamask\n          connect();\n        } else if (type.value === Type.Unlock) {\n          // 授权解锁\n          unlock();\n        } else {\n          console.log(validation.value);\n          position();\n          // @todo 开仓\n        }\n      }\n      function connect() {\n        modalStore.setConnectorModalState(true);\n      }\n      async function position() {\n        if (\n          validation.value === PositionValidation.EMPTY_INPUT ||\n          validation.value === PositionValidation.INVALID_INPUT ||\n          !tokenInfo.value?.address\n        ) {\n          return '';\n        }\n        try {\n          loadingBarStore.setLoading(LoadingStatus.POSITION);\n          const provider = (await accountStore.getProvider()) as Web3Provider;\n          const tx = await ClearingHouse.openPosition(\n            provider,\n            tokenInfo.value?.address,\n            BN.from(tabIndex.value),\n            parseEther(amount.value),\n            parseEther(leverage.value.toString()),\n            // @todo execution reverted: Less than minimal base token\n            parseEther('0')\n          );\n\n          const transactionReceipt = await provider.waitForTransaction(tx.hash, 1);\n          volume.value = '';\n          amount.value = '';\n        } catch (error) {\n          if (error.data && error.data.message) {\n            notifyStore.commitNotify([error.data.message, NotifyType.ERROR]);\n          } else {\n            console.error(error);\n          }\n        } finally {\n          loadingBarStore.setLoading(LoadingStatus.NONE);\n        }\n      }\n      const address = computed(() => {\n        return accountStore.getAccountState.address;\n      });\n      watch(address, (val) => {\n        accountStore.fetchAssets(val);\n      });\n      watch([leverage, amount], async (val) => {\n        const provider = (await accountStore.getProvider()) as Web3Provider;\n        const result = await AmmContract(provider, [\n          tokenInfo.value?.address,\n          'getInputPrice',\n          [\n            BN.from(tabIndex.value === positionType.BUY ? 0 : 1),\n            { d: parseEther((Number(amount.value) * Number(leverage.value)).toString()) },\n          ],\n        ]);\n        const resultNum = formatEther(result.d);\n        if (new BigNumber(resultNum).isEqualTo(0)) {\n          volume.value = '';\n          return;\n        }\n\n        volume.value = new BigNumber(resultNum).toFixed(7);\n      });\n      return {\n        prefixCls,\n        tabIndex,\n        tokenInfo,\n        handleChangeTab,\n        updateSlippage,\n        updateRatio,\n        handleClick,\n        disabled,\n        loading,\n        text,\n        validation,\n        errorText,\n        volume,\n        amount,\n        handleChange,\n        positionType,\n        userBalance,\n        InputType,\n        price,\n        tradeFee,\n        total,\n        transactionPending,\n        openPrice,\n        handleAll,\n      };\n    },\n  });\n","import { render } from \"./Trading.vue?vue&type=template&id=005d5d4e&scoped=true\"\nimport script from \"./Trading.vue?vue&type=script&lang=ts\"\nexport * from \"./Trading.vue?vue&type=script&lang=ts\"\n\nimport \"./Trading.vue?vue&type=style&index=0&id=005d5d4e&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-005d5d4e\"\n\nexport default script","\n  import { defineComponent, onMounted } from 'vue';\n  import { useDesign } from '@/hooks/useDesign';\n  // import DepositAndWithdraw from './DepositAndWithdraw.vue';\n  import Trading from './Trading.vue';\n  export default defineComponent({\n    name: 'trade',\n    components: {\n      // DepositAndWithdraw,\n      Trading,\n    },\n    setup() {\n      const { prefixCls } = useDesign('trade');\n      return { prefixCls };\n    },\n  });\n","import { render } from \"./Trade.vue?vue&type=template&id=33110770&scoped=true\"\nimport script from \"./Trade.vue?vue&type=script&lang=ts\"\nexport * from \"./Trade.vue?vue&type=script&lang=ts\"\n\nimport \"./Trade.vue?vue&type=style&index=0&id=33110770&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-33110770\"\n\nexport default script","<!--\n * @Author: your name\n * @Date: 2021-02-25 16:40:47\n * @LastEditTime: 2021-03-17 10:52:29\n * @LastEditors: Please set LastEditors\n * @Description: In User Settings Edit\n * @FilePath: /fronted_v2/src/views/Trade/Info.vue\n-->\n<template>\n  <div :class=\"`${prefixCls}`\">\n    <div :class=\"`${prefixCls}__top`\">\n      <SymbolInfo />\n      <TradingRecord />\n    </div>\n    <div :class=\"`${prefixCls}__bottom`\">\n      <UserRecord />\n    </div>\n  </div>\n</template>\n<script lang=\"ts\">\n  import { defineComponent } from 'vue';\n  import { useDesign } from '@/hooks/useDesign';\n  import TradingRecord from './TradingRecord.vue';\n  import SymbolInfo from './SymboInfo.vue';\n  import UserRecord from './userRecord.vue';\n  export default defineComponent({\n    name: 'info',\n    components: { TradingRecord, SymbolInfo, UserRecord },\n    setup() {\n      const { prefixCls } = useDesign('info');\n      return { prefixCls };\n    },\n  });\n</script>\n<style lang=\"less\" scoped>\n  @prefix-cls:~ '@{namespace}-info';\n  .@{prefix-cls} {\n    &__top {\n      @apply flex flex-row justify-between;\n    }\n    &__bottom {\n      @apply font-roboto;\n      min-height: calc(91vh - 500px);\n      background-color: var(--color-gray-490);\n    }\n  }\n</style>\n","<!--\n * @Author: your name\n * @Date: 2021-02-25 16:45:14\n * @LastEditTime: 2021-03-19 20:19:50\n * @LastEditors: Please set LastEditors\n * @Description: In User Settings Edit\n * @FilePath: /fronted_v2/src/views/Trade/TradingRecord.vue\n-->\n<template>\n  <div :class=\"`${prefixCls}`\">\n    <p :class=\"`${prefixCls}__title`\">最新成交</p>\n    <div :class=\"`${prefixCls}__list`\">\n      <div :class=\"`${prefixCls}__list--item`\" class=\"text-gray-460 mt-2\">\n        <span>成交价</span>\n        <span>数量</span>\n        <span>时间</span>\n      </div>\n      <div\n        :class=\"`${prefixCls}__list--item`\"\n        v-for=\"({ time, volume, price }, index) in list\"\n        :key=\"index\"\n      >\n        <span class=\"text-red-410\">{{ bigNumberForamte(price, 2) }}</span>\n        <span>{{ bigNumberForamte(volume) }}</span>\n        <span>{{ dataFormate(time, 'hms') }}</span>\n      </div>\n    </div>\n  </div>\n</template>\n<script lang=\"ts\">\n  import { defineComponent, ref, watch } from 'vue';\n  import { useDesign } from '@/hooks/useDesign';\n  import { tradeConfStore } from '@/store/modules/tradeConf';\n  import { ws } from '@/utils/http/ws/socket';\n  import { dataFormate } from '@/helper/utils';\n  import { bigNumberForamte } from '@/utils';\n  export default defineComponent({\n    name: 'tradingRecord',\n    setup() {\n      const { prefixCls } = useDesign('trading-record');\n      const list = ref([]);\n      watch(\n        () => tradeConfStore.getSelectedTokenInfo,\n        (val) => {\n          if (val) {\n            const { coin, market } = val;\n            ws.subscribe(`${coin}2${market}`, { cmd: 2, c: coin, m: market }, (data) => {\n              console.log('---:', data);\n              list.value = data;\n            });\n          }\n        }\n      );\n      return { prefixCls, list, dataFormate, bigNumberForamte };\n    },\n  });\n</script>\n<style lang=\"less\" scoped>\n  @prefix-cls:~ '@{namespace}-trading-record';\n  .@{prefix-cls} {\n    width: 260px;\n    min-height: 512px;\n    @apply bg-gray-490 ml-1 px-4;\n    &__title {\n      height: 40px;\n      line-height: 40px;\n      border-bottom: 1px solid rgba(#f7f7f7, 0.1);\n      @apply text-white text-left;\n    }\n    &__list {\n      @apply text-xs pb-1 font-roboto;\n      &--item {\n        margin-bottom: 7px;\n\n        @apply flex flex-row text-gray-460;\n        &:last-child {\n          @apply mb-0;\n        }\n        &:first-child {\n          margin-bottom: 10px;\n          span {\n            &:nth-child(2) {\n              @apply text-gray-460;\n            }\n          }\n        }\n        span {\n          line-height: 14px;\n          @apply flex-1;\n          &:first-child {\n            @apply text-left;\n          }\n          &:nth-child(2) {\n            @apply text-white;\n          }\n          &:last-child {\n            @apply text-right;\n          }\n        }\n      }\n    }\n  }\n</style>\n","\n  import { defineComponent, ref, watch } from 'vue';\n  import { useDesign } from '@/hooks/useDesign';\n  import { tradeConfStore } from '@/store/modules/tradeConf';\n  import { ws } from '@/utils/http/ws/socket';\n  import { dataFormate } from '@/helper/utils';\n  import { bigNumberForamte } from '@/utils';\n  export default defineComponent({\n    name: 'tradingRecord',\n    setup() {\n      const { prefixCls } = useDesign('trading-record');\n      const list = ref([]);\n      watch(\n        () => tradeConfStore.getSelectedTokenInfo,\n        (val) => {\n          if (val) {\n            const { coin, market } = val;\n            ws.subscribe(`${coin}2${market}`, { cmd: 2, c: coin, m: market }, (data) => {\n              console.log('---:', data);\n              list.value = data;\n            });\n          }\n        }\n      );\n      return { prefixCls, list, dataFormate, bigNumberForamte };\n    },\n  });\n","import { render } from \"./TradingRecord.vue?vue&type=template&id=6c031ce6&scoped=true\"\nimport script from \"./TradingRecord.vue?vue&type=script&lang=ts\"\nexport * from \"./TradingRecord.vue?vue&type=script&lang=ts\"\n\nimport \"./TradingRecord.vue?vue&type=style&index=0&id=6c031ce6&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-6c031ce6\"\n\nexport default script","<!--\n * @Author: your name\n * @Date: 2021-02-25 16:48:50\n * @LastEditTime: 2021-03-20 17:29:58\n * @LastEditors: Please set LastEditors\n * @Description: In User Settings Edit\n * @FilePath: /fronted_v2/src/views/Trade/SymboInfo.vue\n-->\n<template>\n  <div :class=\"`${prefixCls}`\">\n    <SymbolDetail />\n    <Chart ref=\"klineRef\" v-if=\"selectedTokenInfo\" :symbolInfo=\"selectedTokenInfo\" />\n  </div>\n</template>\n<script lang=\"ts\">\n  import { computed, defineComponent, ref, watch } from 'vue';\n  import { useDesign } from '@/hooks/useDesign';\n  import SymbolDetail from './SymbolDetail.vue';\n  import { tradeConfStore } from '@/store/modules/tradeConf';\n  import Chart from './Chart.vue';\n  export default defineComponent({\n    name: 'symbolInfo',\n    components: { SymbolDetail, Chart },\n    setup() {\n      const { prefixCls } = useDesign('symbol-info');\n      const klineRef = ref();\n      const selectedTokenInfo = computed(() => {\n        return tradeConfStore.getSelectedTokenInfo;\n      });\n      watch(\n        () => selectedTokenInfo.value,\n        (val, oVal) => {\n          if (val?.coin === oVal?.coin) return;\n          klineRef.value?.setSymbol(`${val?.coin}${val?.market}`);\n        }\n      );\n      return { prefixCls, selectedTokenInfo, klineRef };\n    },\n  });\n</script>\n<style lang=\"less\" scoped>\n  @prefix-cls:~ '@{namespace}-symbol-info';\n  .@{prefix-cls} {\n    // height: 300px;\n    @apply flex-1;\n  }\n</style>\n","<template>\n  <div :class=\"`${prefixCls}__detail`\">\n    <div class=\"flex flex-row items-center\">\n      <div :class=\"`${prefixCls}__detail--name`\" @click.stop=\"handleShowTokenList\">\n        <span class=\"uppercase select-none\">\n          {{ selectedTokenInfo && `${selectedTokenInfo?.coin}/${selectedTokenInfo?.market}` }}\n        </span>\n        <!-- <img\n          :class=\"{ trangleUp: showTokenList }\"\n          :src=\"require('@/assets/img/trangle_down.png')\"\n          alt=\"\"\n        /> -->\n        <svg-icon iconClass=\"caretDown\" class=\"caretDown\" :class=\"{ trangleUp: showTokenList }\" />\n        <div class=\"symbol-list anim-scale-in\" v-show=\"showTokenList\">\n          <span\n            class=\"uppercase\"\n            v-for=\"({ coin, market }, index) in tokens\"\n            :key=\"index\"\n            @click=\"handleSelectToken(index)\"\n          >\n            {{ coin }}/{{ market }}\n          </span>\n        </div>\n      </div>\n      <div :class=\"`${prefixCls}__detail--price`\">\n        <h3 :class=\"colorStyle\">{{ price }}</h3>\n      </div>\n      <div :class=\"[`${prefixCls}__detail--percent`, colorStyle]\">\n        <p>涨幅</p>\n        <h4 class=\"text-green-410\">{{ chgSign }} {{ chg }}%</h4>\n      </div>\n      <div :class=\"`${prefixCls}__detail--num`\">\n        <div>\n          <ToolTips placement=\"top\" trigger=\"hover\">\n            <h5>标记价格</h5>\n            <template v-slot:content>\n              <div class=\"text-left\">\n                标记价格同时考虑了现货指数价格及溢价指数，<br />强平价格和未实现盈亏的计算都依据此价格\n              </div>\n            </template>\n          </ToolTips>\n          <p>{{ markPrice }}</p>\n        </div>\n        <div>\n          <ToolTips placement=\"top\" trigger=\"hover\">\n            <h5>指数价格</h5>\n            <template v-slot:content>\n              <div class=\"text-left\">\n                取多家主流交易所的现货价格并进行加权<br />平均，从而得出相对公允的参考价格\n              </div>\n            </template>\n          </ToolTips>\n          <p>{{ indexPrice }}</p>\n        </div>\n        <div>\n          <ToolTips placement=\"top\" trigger=\"hover\">\n            <h5>24H成交量</h5>\n            <template v-slot:content><div>24H成交量</div></template>\n          </ToolTips>\n          <p>{{ oneDayVolume }}</p>\n        </div>\n        <div>\n          <ToolTips placement=\"top\" trigger=\"hover\">\n            <h5>资金费率</h5>\n            <template v-slot:content>\n              <div class=\"text-left\">\n                用于减少现货市场和永续合约市场的价格偏差，每<br />小时将收取一次，由持仓用户之间互相支付和获取\n              </div>\n            </template>\n          </ToolTips>\n          <p>{{ capitalRate }}%</p>\n        </div>\n      </div>\n    </div>\n\n    <!-- <a :class=\"`${prefixCls}__detail--help`\">\n      帮助中心\n    </a> -->\n  </div>\n</template>\n<script lang=\"ts\">\n  import { computed, defineComponent, onMounted, ref, watch } from 'vue';\n  import { useDesign } from '@/hooks/useDesign';\n  import EventListener from '@/helper/eventListener';\n  import { tradeConfStore, SelectedTokenInfo } from '@/store/modules/tradeConf';\n  import { ws } from '@/utils/http/ws/socket';\n  import { bigNumberForamte } from '@/utils';\n  interface SymbolInfo {\n    capitalRate: number;\n    chg: number;\n    indexPrice: number;\n    markPrice: number;\n    oneDayVolume: number;\n    price: number;\n    symbol: string;\n  }\n  export default defineComponent({\n    name: 'symbolDetail',\n    setup() {\n      const { prefixCls } = useDesign('symbol');\n      const selectedTokenIndex = ref(0);\n      const showTokenList = ref(false);\n      const symbolInfo = ref<SymbolInfo | null>(null);\n      const tokens = computed(() => {\n        return tradeConfStore.getTokens;\n      });\n      const selectedTokenInfo = computed(() => {\n        if (tokens.value.length) {\n          return tokens.value[selectedTokenIndex.value];\n        }\n        return null;\n      });\n\n      const price = computed(() => {\n        return bigNumberForamte(symbolInfo.value?.price, 2);\n      });\n      const indexPrice = computed(() => {\n        return bigNumberForamte(symbolInfo.value?.indexPrice, 2);\n      });\n      const markPrice = computed(() => {\n        return bigNumberForamte(symbolInfo.value?.markPrice, 2);\n      });\n      const oneDayVolume = computed(() => {\n        return bigNumberForamte(symbolInfo.value?.oneDayVolume);\n      });\n      const capitalRate = computed(() => {\n        return (parseFloat(bigNumberForamte(symbolInfo.value?.capitalRate)) / 100).toFixed(2);\n      });\n      const chg = computed(() => {\n        return (parseFloat(bigNumberForamte(symbolInfo.value?.chg)) / 100).toFixed(2);\n      });\n\n      const chgSign = computed(() => {\n        return parseFloat(chg.value) >= 0 ? '+' : '';\n      });\n      const colorStyle = computed(() => {\n        return parseFloat(chg.value) >= 0 ? 'text-green-410' : 'text-red-410';\n      });\n      watch(\n        () => selectedTokenInfo.value,\n        (val) => {\n          if (val) {\n            const { coin, market } = val;\n            if (coin && market) {\n              tradeConfStore.commitSelectedTokenInfo(val as SelectedTokenInfo);\n              ws.subscribe(\n                `${coin}16${market}`,\n                { cmd: 16, c: coin, m: market },\n                (data: SymbolInfo) => {\n                  console.log('ws-data:', data);\n                  symbolInfo.value = data;\n                }\n              );\n            }\n          }\n        }\n      );\n\n      function handleSelectToken(index: number) {\n        selectedTokenIndex.value = index;\n      }\n      function handleShowTokenList() {\n        showTokenList.value = !showTokenList.value;\n      }\n      onMounted(() => {\n        EventListener.listen(document.body, 'click', function () {\n          showTokenList.value = false;\n        });\n      });\n      return {\n        prefixCls,\n        tokens,\n        selectedTokenInfo,\n        handleSelectToken,\n        showTokenList,\n        handleShowTokenList,\n        price,\n        indexPrice,\n        markPrice,\n        chg,\n        oneDayVolume,\n        capitalRate,\n        chgSign,\n        colorStyle,\n      };\n    },\n  });\n</script>\n<style lang=\"less\" scoped>\n  @prefix-cls:~ '@{namespace}-symbol';\n  .@{prefix-cls} {\n    &__detail {\n      height: 50px;\n      @apply flex flex-row justify-between items-center flex-1 bg-gray-490 pl-7 pr-4;\n      &--name {\n        @apply relative text-xl text-white relative flex flex-row items-center mr-7 cursor-pointer;\n        span {\n          @apply mr-2 outline-none;\n        }\n        .caretDown {\n          transition: all ease-in-out 0.3s;\n        }\n        .trangleUp {\n          transform: rotate(180deg);\n          fill: #fff;\n        }\n        .symbol-list {\n          @apply flex flex-col justify-items-start absolute py-2 bg-white rounded-base shadow-sm z-20 top-7 left-0 text-sm select-none;\n          span {\n            @apply px-4 mr-0 text-gray-440 text-left leading-8 cursor-pointer;\n            &:hover {\n              background-color: var(--color-select-bg);\n              color: var(--link-color);\n            }\n          }\n        }\n      }\n      &--price {\n        height: 36px;\n        @apply flex flex-col justify-center text-left mr-3;\n        h3 {\n          font-size: 20px;\n          @apply mb-0 font-roboto;\n        }\n        p {\n          @apply text-xs leading-none text-gray-460 font-roboto;\n        }\n      }\n      &--percent {\n        height: 36px;\n        @apply flex flex-col justify-between text-left mr-8;\n        p {\n          @apply text-xs text-gray-460 mb-0;\n        }\n        h4 {\n          font-size: 14px;\n          line-height: 16px;\n          margin-top: 6px;\n          @apply mb-0 font-roboto;\n        }\n      }\n      &--num {\n        height: 36px;\n        line-height: 14px;\n        @apply flex flex-row items-center text-left;\n        & > div {\n          margin-right: 30px;\n        }\n        h5 {\n          padding-bottom: 2px;\n          border-bottom: 1px dashed rgba(#f7f7f7, 0.1);\n          @apply mb-0 text-gray-460 text-xs cursor-default hover:text-white;\n        }\n        p {\n          font-size: 14px;\n          line-height: 16px;\n          @apply text-white font-roboto mt-1;\n        }\n      }\n      &--help {\n        @apply text-xs text-gray-460;\n      }\n    }\n  }\n</style>\n","\n  import { computed, defineComponent, onMounted, ref, watch } from 'vue';\n  import { useDesign } from '@/hooks/useDesign';\n  import EventListener from '@/helper/eventListener';\n  import { tradeConfStore, SelectedTokenInfo } from '@/store/modules/tradeConf';\n  import { ws } from '@/utils/http/ws/socket';\n  import { bigNumberForamte } from '@/utils';\n  interface SymbolInfo {\n    capitalRate: number;\n    chg: number;\n    indexPrice: number;\n    markPrice: number;\n    oneDayVolume: number;\n    price: number;\n    symbol: string;\n  }\n  export default defineComponent({\n    name: 'symbolDetail',\n    setup() {\n      const { prefixCls } = useDesign('symbol');\n      const selectedTokenIndex = ref(0);\n      const showTokenList = ref(false);\n      const symbolInfo = ref<SymbolInfo | null>(null);\n      const tokens = computed(() => {\n        return tradeConfStore.getTokens;\n      });\n      const selectedTokenInfo = computed(() => {\n        if (tokens.value.length) {\n          return tokens.value[selectedTokenIndex.value];\n        }\n        return null;\n      });\n\n      const price = computed(() => {\n        return bigNumberForamte(symbolInfo.value?.price, 2);\n      });\n      const indexPrice = computed(() => {\n        return bigNumberForamte(symbolInfo.value?.indexPrice, 2);\n      });\n      const markPrice = computed(() => {\n        return bigNumberForamte(symbolInfo.value?.markPrice, 2);\n      });\n      const oneDayVolume = computed(() => {\n        return bigNumberForamte(symbolInfo.value?.oneDayVolume);\n      });\n      const capitalRate = computed(() => {\n        return (parseFloat(bigNumberForamte(symbolInfo.value?.capitalRate)) / 100).toFixed(2);\n      });\n      const chg = computed(() => {\n        return (parseFloat(bigNumberForamte(symbolInfo.value?.chg)) / 100).toFixed(2);\n      });\n\n      const chgSign = computed(() => {\n        return parseFloat(chg.value) >= 0 ? '+' : '';\n      });\n      const colorStyle = computed(() => {\n        return parseFloat(chg.value) >= 0 ? 'text-green-410' : 'text-red-410';\n      });\n      watch(\n        () => selectedTokenInfo.value,\n        (val) => {\n          if (val) {\n            const { coin, market } = val;\n            if (coin && market) {\n              tradeConfStore.commitSelectedTokenInfo(val as SelectedTokenInfo);\n              ws.subscribe(\n                `${coin}16${market}`,\n                { cmd: 16, c: coin, m: market },\n                (data: SymbolInfo) => {\n                  console.log('ws-data:', data);\n                  symbolInfo.value = data;\n                }\n              );\n            }\n          }\n        }\n      );\n\n      function handleSelectToken(index: number) {\n        selectedTokenIndex.value = index;\n      }\n      function handleShowTokenList() {\n        showTokenList.value = !showTokenList.value;\n      }\n      onMounted(() => {\n        EventListener.listen(document.body, 'click', function () {\n          showTokenList.value = false;\n        });\n      });\n      return {\n        prefixCls,\n        tokens,\n        selectedTokenInfo,\n        handleSelectToken,\n        showTokenList,\n        handleShowTokenList,\n        price,\n        indexPrice,\n        markPrice,\n        chg,\n        oneDayVolume,\n        capitalRate,\n        chgSign,\n        colorStyle,\n      };\n    },\n  });\n","import { render } from \"./SymbolDetail.vue?vue&type=template&id=f00690a4&scoped=true\"\nimport script from \"./SymbolDetail.vue?vue&type=script&lang=ts\"\nexport * from \"./SymbolDetail.vue?vue&type=script&lang=ts\"\n\nimport \"./SymbolDetail.vue?vue&type=style&index=0&id=f00690a4&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-f00690a4\"\n\nexport default script","<template>\n  <div :class=\"`${prefixCls}`\">\n    <!-- 加载动画 -->\n    <UiLoading class=\"big\" style=\"height: 458px;\" v-if=\"loading\" />\n    <!-- 遮罩 防止首次加载鼠标落在k线区域，不能滚动屏幕 -->\n    <div :class=\"`${prefixCls}__mask`\" v-if=\"chartMask\" @click=\"chartMask = false\"></div>\n    <!-- K线展示 -->\n    <div v-show=\"!loading\" id=\"tv_chart_container\" style=\"height: 458px;\"></div>\n  </div>\n</template>\n<script lang=\"ts\">\n  // @todo definition for rule '@typescript-eslint/camelcase' was not found eslint(@typescript-eslint/camelcase)\n  /* eslint-disable */\n  import kLine from './kLine';\n\n  import { ButtonHTMLAttributes, computed, defineComponent, onMounted, ref, watch } from 'vue';\n  import { useDesign } from '@/hooks/useDesign';\n  import { DataFeed, widget, GetBarsParams } from '@/lib/datafeed';\n  import Storage from '@/utils/storage';\n  import { bigNumberForamte } from '@/utils';\n  import {\n    IChartingLibraryWidget,\n    Bar,\n    LibrarySymbolInfo,\n    StudyOverrides,\n    CreateButtonOptions,\n    StudyInputValue,\n  } from '@/lib/library.min';\n  import { ws } from '@/utils/http/ws/socket';\n  import { getOverrides } from '@/lib/overrides';\n  interface ButtonItem {\n    title: string;\n    resolution: string;\n    interval: string;\n    chartType: number;\n    show: boolean;\n  }\n  // 周期后端映射\n  const intervalMap = {\n    '1min': '1',\n    '5min': '5',\n    // '15min': '15',\n    // '30min': '30',\n    '1hour': '60',\n    // '4hour': '240',\n    '1day': '1D',\n    // '1week': '1W',\n    // '1mon': '1M',\n  };\n  // 周期显示映射\n  const intervalButton = {\n    '1min': '1m',\n    '5min': '5m',\n    '15min': '15m',\n    '30min': '30m',\n    '1hour': '1h',\n    '4hour': '4h',\n    '1day': 'D',\n    '1week': 'W',\n    '1mon': 'M',\n  };\n  const buttons: ButtonItem[] = [\n    {\n      title: '分时',\n      resolution: '1',\n      interval: '1min',\n      chartType: 3,\n      show: true,\n    },\n    {\n      title: '1m',\n      resolution: '1',\n      interval: '1min',\n      chartType: 1,\n      show: true,\n    },\n    {\n      title: '5m',\n      resolution: '5',\n      interval: '5min',\n      chartType: 1,\n      show: false,\n    },\n    {\n      title: '15m',\n      resolution: '15',\n      interval: '15min',\n      chartType: 1,\n      show: false,\n    },\n    {\n      title: '30m',\n      resolution: '30',\n      interval: '30min',\n      chartType: 1,\n      show: false,\n    },\n    {\n      title: '1h',\n      resolution: '60',\n      interval: '1hour',\n      chartType: 1,\n      show: true,\n    },\n    {\n      title: '4h',\n      resolution: '240',\n      interval: '4hour',\n      chartType: 1,\n      show: false,\n    },\n    {\n      title: 'D',\n      resolution: '1D',\n      interval: '1day',\n      chartType: 1,\n      show: true,\n    },\n    {\n      title: '5D',\n      resolution: '5D',\n      interval: '5day',\n      chartType: 1,\n      show: false,\n    },\n    {\n      title: 'W',\n      resolution: '1W',\n      interval: '1week',\n      chartType: 1,\n      show: false,\n    },\n    {\n      title: 'M',\n      resolution: '1M',\n      interval: '1mon',\n      chartType: 1,\n      show: false,\n    },\n  ];\n  type IntervalT = keyof typeof intervalMap;\n  type IntervalButtonT = keyof typeof intervalButton;\n  export default defineComponent({\n    name: 'chartWidget',\n    props: {\n      symbolInfo: Object,\n    },\n    setup(props, context) {\n      const { prefixCls } = useDesign('chart');\n      const loading = ref(true);\n      const chartMask = ref(false);\n      const symbol = ref(`${props.symbolInfo?.coin}${props.symbolInfo?.market}`);\n      const pricescale = computed(() => {\n        return Math.pow(10, props.symbolInfo?.decimals);\n      });\n      const coin = computed(() => {\n        return props.symbolInfo?.coin;\n      });\n      const market = computed(() => {\n        return props.symbolInfo?.market;\n      });\n      const interval = ref<IntervalT>(Storage.get('tradingview.resolution') || '1hour');\n      const _widget = ref<IChartingLibraryWidget>();\n      const studies = ref<any[]>([]);\n      // 获取k线全量数据\n      const getKLine = () => {\n        return new Promise((r, j) => {\n          ws.subscribe(\n            `${coin.value}4${market.value}${interval.value}`,\n            { cmd: 4, c: coin.value, m: market.value, t: interval.value },\n            (data: any) => {\n              r(data);\n            }\n          );\n        });\n      };\n      // 订阅k线\n      const subscribeKLine = () => {\n        ws.subscribe(\n          `${coin.value}5${market.value}${interval.value}`,\n          { cmd: 5, c: coin.value, m: market.value, t: interval.value },\n          (data: any) => {\n            const tick = data.tick;\n            // datafeed.updateKLine({\n            //   time: tick.id * 1000,\n            //   open: tick.open,\n            //   high: tick.high,\n            //   low: tick.low,\n            //   close: tick.close,\n            //   volume: tick.vol,\n            // });\n          }\n        );\n      };\n      // 取消订阅\n      const unsubscribeKLine = () => {\n        ws.unsubscribe('market.btcusdt.kline.5min');\n      };\n      // 配置信息\n      const resolveSymbol = () => {\n        return new Promise<any>((resolve) => {\n          resolve({\n            name: symbol.value.toLocaleUpperCase(),\n            full_name: symbol.value.toLocaleUpperCase(),\n            description: symbol.value.toLocaleUpperCase(),\n            type: symbol.value,\n            session: '24x7',\n            exchange: 'Rainbow',\n            listed_exchange: symbol.value,\n            timezone: 'Asia/Shanghai',\n            format: 'price',\n            pricescale: pricescale.value,\n            minmov: 1,\n            volume_precision: 2,\n            has_intraday: true,\n            supported_resolutions: ['1', '5', '15', '30', '60', '240', 'D', '1W', '1M'],\n          });\n        });\n      };\n      const getBars = async (params: GetBarsParams) => {\n        console.log('getBars');\n\n        const size = window.innerWidth;\n        if (params.resolution !== intervalMap[interval.value]) {\n          unsubscribeKLine();\n          for (const key in intervalMap) {\n            if (intervalMap[key as IntervalT] === params.resolution) {\n              interval.value = key as IntervalT;\n            }\n          }\n        }\n\n        // 'history_kline', void 0, {\n        //   params: {\n        //     symbol: symbol,\n        //     period: interval.value,\n        //     size: size > 2000 ? 2000 : size,\n        //   },\n        // }\n\n        const res: any = await getKLine();\n\n        if (\n          params.resolution === intervalMap[interval.value] &&\n          params.firstDataRequest &&\n          res.length\n        ) {\n          subscribeKLine();\n        }\n\n        if (!res.length) {\n          return {\n            bars: [],\n            meta: { noData: true },\n          };\n        }\n        const list: any = [];\n        for (let i = 0; i < res.length; i++) {\n          const item = res[i];\n          list.push({\n            time: item.time * 1000,\n            open: bigNumberForamte(item.open),\n            high: bigNumberForamte(item.high),\n            low: bigNumberForamte(item.low),\n            close: bigNumberForamte(item.close),\n            volume: bigNumberForamte(item.vol),\n          });\n        }\n\n        list.sort((l, r) => (l.time > r.time ? 1 : -1));\n        return {\n          bars: list,\n          meta: {\n            noData: !list.length,\n          },\n        };\n      };\n      const datafeed = new DataFeed({\n        getBars: (params) => getBars(params),\n        fetchResolveSymbol: () => resolveSymbol(),\n      });\n      // 自定义指标\n      const createStudy = async () => {\n        const MA7 = await _widget.value\n          ?.chart()\n          .createStudy('Moving Average', false, false, [7], { 'Plot.color': '#0ab2d2' });\n        const MA30 = await _widget.value\n          ?.chart()\n          .createStudy('Moving Average', false, false, [30], { 'Plot.color': '#dc4273' });\n        const MA60 = await _widget.value\n          ?.chart()\n          .createStudy('Moving Average', false, false, [60], { 'plot.color': '#ff8200' });\n\n        studies.value.push(MA7);\n        studies.value.push(MA30);\n        studies.value.push(MA60);\n      };\n      // 自定义按钮\n      const createButton = () => {\n        const chartTypeCache = (Storage.get('tradingview.chartType') || '1') * 1;\n        for (let i = 0; i < buttons.length; i++) {\n          if (!buttons[i].show) continue;\n          ((button) => {\n            const { title, resolution, chartType } = button;\n            const buttonElement = _widget.value?.createButton() as HTMLElement;\n            buttonElement.className += `${\n              resolution === intervalMap[interval.value] && button.chartType === chartTypeCache\n                ? ' active'\n                : ''\n            }`;\n            buttonElement.setAttribute('title', title);\n            buttonElement.textContent = title;\n            buttonElement.addEventListener('click', function () {\n              Storage.set('tradingview.resolution', button.interval);\n              Storage.set('tradingview.chartType', chartType);\n              const activeEle = this.parentNode?.parentNode?.parentNode?.querySelector(\n                '.active'\n              ) as HTMLElement;\n              if (activeEle) {\n                activeEle.className = activeEle.className.replace(/(\\sactive|active\\s)/, '');\n              }\n              buttonElement.className += ' active';\n\n              if (chartType !== _widget.value?.chart().chartType()) {\n                _widget.value?.activeChart().setChartType(chartType);\n                // toggleStudy(chartType);\n              } else {\n                _widget.value?.chart().setResolution(resolution, function onReadyCallback() {\n                  interval.value = resolution as IntervalT;\n                });\n              }\n            });\n          })(buttons[i]);\n        }\n      };\n      //\n      const toggleStudy = (chartType: number) => {\n        studies.value.forEach((study) => {\n          _widget.value\n            ?.chart()\n            .getStudyById(study)\n            .setVisible(chartType === 3 ? false : true);\n        });\n      };\n      // 初始化k线\n      const initTradingView = () => {\n        const chartType = (Storage.get('tradingview.chartType') || '1') * 1;\n        _widget.value = new widget({\n          debug: false,\n          fullscreen: false,\n          symbol: symbol.value,\n          interval: intervalMap[interval.value],\n          /* eslint-disable @typescript-eslint/camelcase */\n          container_id: 'tv_chart_container',\n          datafeed: datafeed,\n          /* eslint-disable @typescript-eslint/camelcase */\n          library_path: '/charting_library/',\n          locale: 'zh',\n          theme: 'Dark',\n          timezone: 'Asia/Shanghai',\n          autosize: true,\n          height: 458,\n          /* eslint-disable @typescript-eslint/camelcase */\n          enabled_features: ['hide_last_na_study_output', 'side_toolbar_in_fullscreen_mode'],\n          /* eslint-disable @typescript-eslint/camelcase */\n          custom_css_url: '/charting_library/static/chart.css',\n          /* eslint-disable @typescript-eslint/camelcase */\n          disabled_features: [\n            'header_symbol_search',\n            'header_saveload',\n            'header_screenshot',\n            'header_chart_type',\n            'header_compare',\n            'header_undo_redo',\n            'timeframes_toolbar',\n            'volume_force_overlay',\n            'header_resolutions',\n            '14851',\n            // 'header_indicators', //指标\n            // 'header_settings', //设置\n          ],\n        });\n\n        _widget.value?.onChartReady(async () => {\n          await _widget.value?.headerReady();\n\n          createStudy();\n          createButton();\n          toggleStudy(chartType);\n          _widget.value?.chart().setChartType(chartType);\n          _widget.value?.applyOverrides(getOverrides('black'));\n          loading.value = false;\n          chartMask.value = true;\n        });\n      };\n      // 切换交易对\n      const setSymbol = (_symbol) => {\n        unsubscribeKLine();\n        symbol.value = _symbol;\n        _widget.value?.setSymbol(_symbol, intervalMap[interval.value], () => {\n          console.log('------setSymbol---------', _symbol);\n        });\n      };\n      onMounted(() => {\n        initTradingView();\n      });\n      return { prefixCls, loading, chartMask, setSymbol, symbol };\n    },\n  });\n</script>\n<style lang=\"less\" scoped>\n  @prefix-cls:~ '@{namespace}-chart';\n  .@{prefix-cls} {\n    height: 458px;\n    @apply mt-1 bg-gray-490 relative;\n    &__mask {\n      @apply absolute left-0 right-0 top-0 bottom-0 z-10;\n    }\n  }\n</style>\n","/**\n * JS API\n * https://aitrade.ga/books/tradingview/book/JS-Api.html\n */\n\nimport * as Tv from './library.min';\n\nexport { widget, version } from './library.min.js';\n\nexport type SearchSymbolsParams = {\n  userInput: string;\n  exchange: string;\n  symbolType: string;\n};\nexport type GetBarsParams = {\n  symbolInfo: Tv.LibrarySymbolInfo;\n  resolution: string;\n  from: number;\n  to: number;\n  firstDataRequest: boolean;\n};\nexport type GetMarksParams = {\n  symbolInfo: Tv.LibrarySymbolInfo;\n  startDate: number;\n  endDate: number;\n  resolution: string;\n};\nexport type GetTimescaleMarks = GetMarksParams;\nexport interface Options {\n  fetchConfiguration?: () => Promise<Tv.DatafeedConfiguration>;\n  fetchSearchSymbols?: (params: SearchSymbolsParams) => Promise<Array<Tv.SearchSymbolResultItem>>;\n  fetchResolveSymbol?: (symbolName: string) => Promise<Tv.LibrarySymbolInfo>;\n  getBars?: (params: GetBarsParams) => Promise<{ bars: Tv.Bar[]; meta: Tv.HistoryMetadata }>;\n  calculateHistoryDepth?: (\n    resolution: string,\n    resolutionBack: Tv.ResolutionBackValues,\n    intervalBack: number\n  ) => Tv.HistoryDepth | undefined;\n  getMarks?: (params: GetMarksParams) => Promise<Array<Tv.Mark>>;\n  getTimescaleMarks?: (params: GetTimescaleMarks) => Promise<Array<Tv.TimescaleMark>>;\n  getServerTime?: () => Promise<number>;\n}\nexport interface DataSubscriber {\n  symbolInfo: Tv.LibrarySymbolInfo;\n  resolution: string;\n  lastBarTime: number | null;\n  listener: Tv.SubscribeBarsCallback;\n}\n\nexport interface DataSubscribers {\n  [guid: string]: DataSubscriber;\n}\n\nexport class DataFeed implements Tv.IExternalDatafeed, Tv.IDatafeedChartApi {\n  private options: Options;\n  private configuration: Partial<Tv.DatafeedConfiguration> = {};\n  private subscribers: DataSubscribers = {};\n  private requesting = false;\n\n  constructor(options: Options = {}) {\n    this.options = options;\n  }\n\n  /**\n   * 此方法可以设置图表库支持的图表配置。这些数据会影响到图表支持的功能\n   */\n  public onReady(callback: Tv.OnReadyCallback): void {\n    new Promise((resolve) => {\n      resolve(void 0);\n    }).then(() => {\n      const { fetchConfiguration } = this.options;\n      this.configuration = this.defaultConfiguration();\n      if (!fetchConfiguration) {\n        callback(this.configuration);\n        return;\n      }\n      fetchConfiguration().then((configuration) => {\n        this.configuration = Object.assign(this.configuration, configuration);\n        callback(this.configuration);\n      });\n    });\n  }\n\n  /**\n   * 提供一个匹配用户搜索的商品列表\n   */\n  public searchSymbols(\n    userInput: string,\n    exchange: string,\n    symbolType: string,\n    onResult: Tv.SearchSymbolsCallback\n  ) {\n    const { fetchSearchSymbols } = this.options;\n    if (!fetchSearchSymbols) {\n      return;\n    }\n    fetchSearchSymbols({ userInput, exchange, symbolType })\n      .then(onResult)\n      .catch(() => {\n        onResult([]);\n      });\n  }\n\n  /**\n   * 通过商品名称解析商品信息\n   */\n  public resolveSymbol(\n    symbolName: string,\n    onSymbolResolvedCallback: Tv.ResolveCallback,\n    onResolveErrorCallback: Tv.ErrorCallback\n  ) {\n    const { fetchResolveSymbol } = this.options;\n    if (!fetchResolveSymbol) {\n      return;\n    }\n    fetchResolveSymbol(symbolName)\n      .then(onSymbolResolvedCallback)\n      .catch(() => {\n        onResolveErrorCallback('Error fetchResolveSymbol');\n      });\n  }\n\n  /**\n   * 当图表库需要由日期范围定义的历史K线片段时，将调用此函数\n   */\n  public getBars(\n    symbolInfo: Tv.LibrarySymbolInfo,\n    resolution: string,\n    from: number,\n    to: number,\n    onHistoryCallback: Tv.HistoryCallback,\n    onErrorCallback: Tv.ErrorCallback,\n    firstDataRequest: boolean\n  ) {\n    const { getBars } = this.options;\n    if (!getBars) {\n      return;\n    }\n    if (this.requesting) {\n      return;\n    }\n    this.requesting = true;\n    getBars({ symbolInfo, resolution, from, to, firstDataRequest })\n      .then((data) => {\n        this.requesting = false;\n        onHistoryCallback(data.bars, data.meta);\n      })\n      .catch(() => {\n        this.requesting = false;\n        onErrorCallback('Error getBars');\n      });\n  }\n\n  /**\n   * 订阅K线数据。图表库将调用onRealtimeCallback方法以更新实时数据\n   */\n  public subscribeBars(\n    symbolInfo: Tv.LibrarySymbolInfo,\n    resolution: string,\n    onRealtimeCallback: Tv.SubscribeBarsCallback,\n    subscriberUID: string,\n    onResetCacheNeededCallback: () => void\n  ) {\n    if (this.subscribers[subscriberUID]) {\n      return;\n    }\n    this.subscribers[subscriberUID] = {\n      lastBarTime: null,\n      listener: onRealtimeCallback,\n      resolution: resolution,\n      symbolInfo: symbolInfo,\n    };\n  }\n\n  /**\n   * 取消订阅K线数据\n   */\n  public unsubscribeBars(subscriberUID: string) {\n    if (!this.subscribers[subscriberUID]) {\n      return;\n    }\n    delete this.subscribers[subscriberUID];\n  }\n\n  public updateKLine(bar: Tv.Bar) {\n    for (const listenerGuid in this.subscribers) {\n      const subscriptionRecord = this.subscribers[listenerGuid];\n      if (subscriptionRecord.lastBarTime !== null && bar.time < subscriptionRecord.lastBarTime) {\n        continue;\n      }\n      subscriptionRecord.lastBarTime = bar.time;\n      subscriptionRecord.listener(bar);\n    }\n  }\n\n  /**\n   * 图表库在它要请求一些历史数据的时候会调用这个函数，让你能够覆盖所需的历史深度\n   */\n  public calculateHistoryDepth(\n    resolution: string,\n    resolutionBack: Tv.ResolutionBackValues,\n    intervalBack: number\n  ) {\n    const { calculateHistoryDepth } = this.options;\n    if (!calculateHistoryDepth) {\n      return;\n    }\n    return calculateHistoryDepth(resolution, resolutionBack, intervalBack);\n  }\n\n  /**\n   * 图表库调用这个函数来获得可见的K线范围的标记\n   */\n  public getMarks(\n    symbolInfo: Tv.LibrarySymbolInfo,\n    startDate: number,\n    endDate: number,\n    onDataCallback: Tv.GetMarksCallback<Tv.Mark>,\n    resolution: string\n  ) {\n    const { getMarks } = this.options;\n    if (!getMarks) {\n      return;\n    }\n    getMarks({ symbolInfo, startDate, endDate, resolution }).then(onDataCallback);\n  }\n\n  /**\n   * 图表库调用此函数获取可见K线范围的时间刻度标记\n   */\n  public getTimescaleMarks(\n    symbolInfo: Tv.LibrarySymbolInfo,\n    startDate: number,\n    endDate: number,\n    onDataCallback: Tv.GetMarksCallback<Tv.TimescaleMark>,\n    resolution: string\n  ) {\n    const { getTimescaleMarks } = this.options;\n    /* eslint-disable @typescript-eslint/camelcase */\n    const { supports_timescale_marks } = this.configuration;\n    /* eslint-disable @typescript-eslint/camelcase */\n    if (!getTimescaleMarks || !supports_timescale_marks) {\n      return;\n    }\n    getTimescaleMarks({ symbolInfo, startDate, endDate, resolution }).then(onDataCallback);\n  }\n\n  /**\n   * 当图表需要知道服务器时间时，如果配置标志supports_time设置为true，则调用此函数\n   */\n  public getServerTime(callback: Tv.ServerTimeCallback) {\n    const { getServerTime } = this.options;\n    /* eslint-disable @typescript-eslint/camelcase */\n    const { supports_time } = this.configuration;\n    /* eslint-disable @typescript-eslint/camelcase */\n    if (!getServerTime || !supports_time) {\n      return;\n    }\n    getServerTime().then(callback);\n  }\n\n  private defaultConfiguration(): Tv.DatafeedConfiguration {\n    return {\n      supported_resolutions: ['1', '5', '15', '30', '60', '1D', '1W', '1M'],\n      supports_marks: false,\n      supports_timescale_marks: false,\n    };\n  }\n}\n","import { StudyOverrides } from './library.min.d';\ninterface Themes {\n  [key: string]: {\n    [key: string]: string;\n  };\n}\nexport function getOverrides(theme: string): StudyOverrides {\n  const themes: Themes = {\n    white: {\n      up: '#03c087',\n      down: '#ef5555',\n      bg: '#fbfbfb',\n      grid: '#f7f8fa',\n      cross: '#23283D',\n      border: '#9194a4',\n      text: '#9194a4',\n      areatop: 'rgba(71, 78, 112, 0.1)',\n      areadown: 'rgba(71, 78, 112, 0.02)',\n      line: '#737375',\n    },\n    black: {\n      up: '#00B578',\n      down: '#e94757',\n      bg: '#0B0F25',\n      grid: '#0B0F25',\n      cross: '#697281',\n      border: '#4e5b85',\n      text: '#697281',\n      areatop: 'rgba(122, 152, 247, .1)',\n      areadown: 'rgba(122, 152, 247, .02)',\n      line: '#737375',\n    },\n  };\n  const t = themes[theme];\n  return {\n    volumePaneSize: 'small',\n    'scalesProperties.lineColor': t.text,\n    'scalesProperties.textColor': t.text,\n    'paneProperties.background': t.bg,\n    'paneProperties.vertGridProperties.color': t.grid,\n    'paneProperties.horzGridProperties.color': t.grid,\n    'paneProperties.crossHairProperties.color': t.cross,\n    'paneProperties.legendProperties.showLegend': !!t.showLegend,\n    'paneProperties.legendProperties.showStudyArguments': !0,\n    'paneProperties.legendProperties.showStudyTitles': !0,\n    'paneProperties.legendProperties.showStudyValues': !0,\n    'paneProperties.legendProperties.showSeriesTitle': !0,\n    'paneProperties.legendProperties.showSeriesOHLC': !0,\n    'mainSeriesProperties.candleStyle.upColor': t.up,\n    'mainSeriesProperties.candleStyle.downColor': t.down,\n    'mainSeriesProperties.candleStyle.drawWick': !0,\n    'mainSeriesProperties.candleStyle.drawBorder': !0,\n    'mainSeriesProperties.candleStyle.borderColor': t.border,\n    'mainSeriesProperties.candleStyle.borderUpColor': t.up,\n    'mainSeriesProperties.candleStyle.borderDownColor': t.down,\n    'mainSeriesProperties.candleStyle.wickUpColor': t.up,\n    'mainSeriesProperties.candleStyle.wickDownColor': t.down,\n    'mainSeriesProperties.candleStyle.barColorsOnPrevClose': !1,\n    'mainSeriesProperties.hollowCandleStyle.upColor': t.up,\n    'mainSeriesProperties.hollowCandleStyle.downColor': t.down,\n    'mainSeriesProperties.hollowCandleStyle.drawWick': !0,\n    'mainSeriesProperties.hollowCandleStyle.drawBorder': !0,\n    'mainSeriesProperties.hollowCandleStyle.borderColor': t.border,\n    'mainSeriesProperties.hollowCandleStyle.borderUpColor': t.up,\n    'mainSeriesProperties.hollowCandleStyle.borderDownColor': t.down,\n    'mainSeriesProperties.hollowCandleStyle.wickColor': t.line,\n    'mainSeriesProperties.haStyle.upColor': t.up,\n    'mainSeriesProperties.haStyle.downColor': t.down,\n    'mainSeriesProperties.haStyle.drawWick': !0,\n    'mainSeriesProperties.haStyle.drawBorder': !0,\n    'mainSeriesProperties.haStyle.borderColor': t.border,\n    'mainSeriesProperties.haStyle.borderUpColor': t.up,\n    'mainSeriesProperties.haStyle.borderDownColor': t.down,\n    'mainSeriesProperties.haStyle.wickColor': t.border,\n    'mainSeriesProperties.haStyle.barColorsOnPrevClose': !1,\n    'mainSeriesProperties.barStyle.upColor': t.up,\n    'mainSeriesProperties.barStyle.downColor': t.down,\n    'mainSeriesProperties.barStyle.barColorsOnPrevClose': !1,\n    'mainSeriesProperties.barStyle.dontDrawOpen': !1,\n    'mainSeriesProperties.lineStyle.color': t.border,\n    'mainSeriesProperties.lineStyle.linewidth': 1,\n    'mainSeriesProperties.lineStyle.priceSource': 'close',\n    'mainSeriesProperties.areaStyle.color1': t.areatop,\n    'mainSeriesProperties.areaStyle.color2': t.areadown,\n    'mainSeriesProperties.areaStyle.linecolor': t.border,\n    'mainSeriesProperties.areaStyle.linewidth': 1,\n    'mainSeriesProperties.areaStyle.priceSource': 'close',\n  };\n}\n","\n  // @todo definition for rule '@typescript-eslint/camelcase' was not found eslint(@typescript-eslint/camelcase)\n  /* eslint-disable */\n  import kLine from './kLine';\n\n  import { ButtonHTMLAttributes, computed, defineComponent, onMounted, ref, watch } from 'vue';\n  import { useDesign } from '@/hooks/useDesign';\n  import { DataFeed, widget, GetBarsParams } from '@/lib/datafeed';\n  import Storage from '@/utils/storage';\n  import { bigNumberForamte } from '@/utils';\n  import {\n    IChartingLibraryWidget,\n    Bar,\n    LibrarySymbolInfo,\n    StudyOverrides,\n    CreateButtonOptions,\n    StudyInputValue,\n  } from '@/lib/library.min';\n  import { ws } from '@/utils/http/ws/socket';\n  import { getOverrides } from '@/lib/overrides';\n  interface ButtonItem {\n    title: string;\n    resolution: string;\n    interval: string;\n    chartType: number;\n    show: boolean;\n  }\n  // 周期后端映射\n  const intervalMap = {\n    '1min': '1',\n    '5min': '5',\n    // '15min': '15',\n    // '30min': '30',\n    '1hour': '60',\n    // '4hour': '240',\n    '1day': '1D',\n    // '1week': '1W',\n    // '1mon': '1M',\n  };\n  // 周期显示映射\n  const intervalButton = {\n    '1min': '1m',\n    '5min': '5m',\n    '15min': '15m',\n    '30min': '30m',\n    '1hour': '1h',\n    '4hour': '4h',\n    '1day': 'D',\n    '1week': 'W',\n    '1mon': 'M',\n  };\n  const buttons: ButtonItem[] = [\n    {\n      title: '分时',\n      resolution: '1',\n      interval: '1min',\n      chartType: 3,\n      show: true,\n    },\n    {\n      title: '1m',\n      resolution: '1',\n      interval: '1min',\n      chartType: 1,\n      show: true,\n    },\n    {\n      title: '5m',\n      resolution: '5',\n      interval: '5min',\n      chartType: 1,\n      show: false,\n    },\n    {\n      title: '15m',\n      resolution: '15',\n      interval: '15min',\n      chartType: 1,\n      show: false,\n    },\n    {\n      title: '30m',\n      resolution: '30',\n      interval: '30min',\n      chartType: 1,\n      show: false,\n    },\n    {\n      title: '1h',\n      resolution: '60',\n      interval: '1hour',\n      chartType: 1,\n      show: true,\n    },\n    {\n      title: '4h',\n      resolution: '240',\n      interval: '4hour',\n      chartType: 1,\n      show: false,\n    },\n    {\n      title: 'D',\n      resolution: '1D',\n      interval: '1day',\n      chartType: 1,\n      show: true,\n    },\n    {\n      title: '5D',\n      resolution: '5D',\n      interval: '5day',\n      chartType: 1,\n      show: false,\n    },\n    {\n      title: 'W',\n      resolution: '1W',\n      interval: '1week',\n      chartType: 1,\n      show: false,\n    },\n    {\n      title: 'M',\n      resolution: '1M',\n      interval: '1mon',\n      chartType: 1,\n      show: false,\n    },\n  ];\n  type IntervalT = keyof typeof intervalMap;\n  type IntervalButtonT = keyof typeof intervalButton;\n  export default defineComponent({\n    name: 'chartWidget',\n    props: {\n      symbolInfo: Object,\n    },\n    setup(props, context) {\n      const { prefixCls } = useDesign('chart');\n      const loading = ref(true);\n      const chartMask = ref(false);\n      const symbol = ref(`${props.symbolInfo?.coin}${props.symbolInfo?.market}`);\n      const pricescale = computed(() => {\n        return Math.pow(10, props.symbolInfo?.decimals);\n      });\n      const coin = computed(() => {\n        return props.symbolInfo?.coin;\n      });\n      const market = computed(() => {\n        return props.symbolInfo?.market;\n      });\n      const interval = ref<IntervalT>(Storage.get('tradingview.resolution') || '1hour');\n      const _widget = ref<IChartingLibraryWidget>();\n      const studies = ref<any[]>([]);\n      // 获取k线全量数据\n      const getKLine = () => {\n        return new Promise((r, j) => {\n          ws.subscribe(\n            `${coin.value}4${market.value}${interval.value}`,\n            { cmd: 4, c: coin.value, m: market.value, t: interval.value },\n            (data: any) => {\n              r(data);\n            }\n          );\n        });\n      };\n      // 订阅k线\n      const subscribeKLine = () => {\n        ws.subscribe(\n          `${coin.value}5${market.value}${interval.value}`,\n          { cmd: 5, c: coin.value, m: market.value, t: interval.value },\n          (data: any) => {\n            const tick = data.tick;\n            // datafeed.updateKLine({\n            //   time: tick.id * 1000,\n            //   open: tick.open,\n            //   high: tick.high,\n            //   low: tick.low,\n            //   close: tick.close,\n            //   volume: tick.vol,\n            // });\n          }\n        );\n      };\n      // 取消订阅\n      const unsubscribeKLine = () => {\n        ws.unsubscribe('market.btcusdt.kline.5min');\n      };\n      // 配置信息\n      const resolveSymbol = () => {\n        return new Promise<any>((resolve) => {\n          resolve({\n            name: symbol.value.toLocaleUpperCase(),\n            full_name: symbol.value.toLocaleUpperCase(),\n            description: symbol.value.toLocaleUpperCase(),\n            type: symbol.value,\n            session: '24x7',\n            exchange: 'Rainbow',\n            listed_exchange: symbol.value,\n            timezone: 'Asia/Shanghai',\n            format: 'price',\n            pricescale: pricescale.value,\n            minmov: 1,\n            volume_precision: 2,\n            has_intraday: true,\n            supported_resolutions: ['1', '5', '15', '30', '60', '240', 'D', '1W', '1M'],\n          });\n        });\n      };\n      const getBars = async (params: GetBarsParams) => {\n        console.log('getBars');\n\n        const size = window.innerWidth;\n        if (params.resolution !== intervalMap[interval.value]) {\n          unsubscribeKLine();\n          for (const key in intervalMap) {\n            if (intervalMap[key as IntervalT] === params.resolution) {\n              interval.value = key as IntervalT;\n            }\n          }\n        }\n\n        // 'history_kline', void 0, {\n        //   params: {\n        //     symbol: symbol,\n        //     period: interval.value,\n        //     size: size > 2000 ? 2000 : size,\n        //   },\n        // }\n\n        const res: any = await getKLine();\n\n        if (\n          params.resolution === intervalMap[interval.value] &&\n          params.firstDataRequest &&\n          res.length\n        ) {\n          subscribeKLine();\n        }\n\n        if (!res.length) {\n          return {\n            bars: [],\n            meta: { noData: true },\n          };\n        }\n        const list: any = [];\n        for (let i = 0; i < res.length; i++) {\n          const item = res[i];\n          list.push({\n            time: item.time * 1000,\n            open: bigNumberForamte(item.open),\n            high: bigNumberForamte(item.high),\n            low: bigNumberForamte(item.low),\n            close: bigNumberForamte(item.close),\n            volume: bigNumberForamte(item.vol),\n          });\n        }\n\n        list.sort((l, r) => (l.time > r.time ? 1 : -1));\n        return {\n          bars: list,\n          meta: {\n            noData: !list.length,\n          },\n        };\n      };\n      const datafeed = new DataFeed({\n        getBars: (params) => getBars(params),\n        fetchResolveSymbol: () => resolveSymbol(),\n      });\n      // 自定义指标\n      const createStudy = async () => {\n        const MA7 = await _widget.value\n          ?.chart()\n          .createStudy('Moving Average', false, false, [7], { 'Plot.color': '#0ab2d2' });\n        const MA30 = await _widget.value\n          ?.chart()\n          .createStudy('Moving Average', false, false, [30], { 'Plot.color': '#dc4273' });\n        const MA60 = await _widget.value\n          ?.chart()\n          .createStudy('Moving Average', false, false, [60], { 'plot.color': '#ff8200' });\n\n        studies.value.push(MA7);\n        studies.value.push(MA30);\n        studies.value.push(MA60);\n      };\n      // 自定义按钮\n      const createButton = () => {\n        const chartTypeCache = (Storage.get('tradingview.chartType') || '1') * 1;\n        for (let i = 0; i < buttons.length; i++) {\n          if (!buttons[i].show) continue;\n          ((button) => {\n            const { title, resolution, chartType } = button;\n            const buttonElement = _widget.value?.createButton() as HTMLElement;\n            buttonElement.className += `${\n              resolution === intervalMap[interval.value] && button.chartType === chartTypeCache\n                ? ' active'\n                : ''\n            }`;\n            buttonElement.setAttribute('title', title);\n            buttonElement.textContent = title;\n            buttonElement.addEventListener('click', function () {\n              Storage.set('tradingview.resolution', button.interval);\n              Storage.set('tradingview.chartType', chartType);\n              const activeEle = this.parentNode?.parentNode?.parentNode?.querySelector(\n                '.active'\n              ) as HTMLElement;\n              if (activeEle) {\n                activeEle.className = activeEle.className.replace(/(\\sactive|active\\s)/, '');\n              }\n              buttonElement.className += ' active';\n\n              if (chartType !== _widget.value?.chart().chartType()) {\n                _widget.value?.activeChart().setChartType(chartType);\n                // toggleStudy(chartType);\n              } else {\n                _widget.value?.chart().setResolution(resolution, function onReadyCallback() {\n                  interval.value = resolution as IntervalT;\n                });\n              }\n            });\n          })(buttons[i]);\n        }\n      };\n      //\n      const toggleStudy = (chartType: number) => {\n        studies.value.forEach((study) => {\n          _widget.value\n            ?.chart()\n            .getStudyById(study)\n            .setVisible(chartType === 3 ? false : true);\n        });\n      };\n      // 初始化k线\n      const initTradingView = () => {\n        const chartType = (Storage.get('tradingview.chartType') || '1') * 1;\n        _widget.value = new widget({\n          debug: false,\n          fullscreen: false,\n          symbol: symbol.value,\n          interval: intervalMap[interval.value],\n          /* eslint-disable @typescript-eslint/camelcase */\n          container_id: 'tv_chart_container',\n          datafeed: datafeed,\n          /* eslint-disable @typescript-eslint/camelcase */\n          library_path: '/charting_library/',\n          locale: 'zh',\n          theme: 'Dark',\n          timezone: 'Asia/Shanghai',\n          autosize: true,\n          height: 458,\n          /* eslint-disable @typescript-eslint/camelcase */\n          enabled_features: ['hide_last_na_study_output', 'side_toolbar_in_fullscreen_mode'],\n          /* eslint-disable @typescript-eslint/camelcase */\n          custom_css_url: '/charting_library/static/chart.css',\n          /* eslint-disable @typescript-eslint/camelcase */\n          disabled_features: [\n            'header_symbol_search',\n            'header_saveload',\n            'header_screenshot',\n            'header_chart_type',\n            'header_compare',\n            'header_undo_redo',\n            'timeframes_toolbar',\n            'volume_force_overlay',\n            'header_resolutions',\n            '14851',\n            // 'header_indicators', //指标\n            // 'header_settings', //设置\n          ],\n        });\n\n        _widget.value?.onChartReady(async () => {\n          await _widget.value?.headerReady();\n\n          createStudy();\n          createButton();\n          toggleStudy(chartType);\n          _widget.value?.chart().setChartType(chartType);\n          _widget.value?.applyOverrides(getOverrides('black'));\n          loading.value = false;\n          chartMask.value = true;\n        });\n      };\n      // 切换交易对\n      const setSymbol = (_symbol) => {\n        unsubscribeKLine();\n        symbol.value = _symbol;\n        _widget.value?.setSymbol(_symbol, intervalMap[interval.value], () => {\n          console.log('------setSymbol---------', _symbol);\n        });\n      };\n      onMounted(() => {\n        initTradingView();\n      });\n      return { prefixCls, loading, chartMask, setSymbol, symbol };\n    },\n  });\n","import { render } from \"./Chart.vue?vue&type=template&id=092e60ea&scoped=true\"\nimport script from \"./Chart.vue?vue&type=script&lang=ts\"\nexport * from \"./Chart.vue?vue&type=script&lang=ts\"\n\nimport \"./Chart.vue?vue&type=style&index=0&id=092e60ea&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-092e60ea\"\n\nexport default script","\n  import { computed, defineComponent, ref, watch } from 'vue';\n  import { useDesign } from '@/hooks/useDesign';\n  import SymbolDetail from './SymbolDetail.vue';\n  import { tradeConfStore } from '@/store/modules/tradeConf';\n  import Chart from './Chart.vue';\n  export default defineComponent({\n    name: 'symbolInfo',\n    components: { SymbolDetail, Chart },\n    setup() {\n      const { prefixCls } = useDesign('symbol-info');\n      const klineRef = ref();\n      const selectedTokenInfo = computed(() => {\n        return tradeConfStore.getSelectedTokenInfo;\n      });\n      watch(\n        () => selectedTokenInfo.value,\n        (val, oVal) => {\n          if (val?.coin === oVal?.coin) return;\n          klineRef.value?.setSymbol(`${val?.coin}${val?.market}`);\n        }\n      );\n      return { prefixCls, selectedTokenInfo, klineRef };\n    },\n  });\n","import { render } from \"./SymboInfo.vue?vue&type=template&id=c776dde2&scoped=true\"\nimport script from \"./SymboInfo.vue?vue&type=script&lang=ts\"\nexport * from \"./SymboInfo.vue?vue&type=script&lang=ts\"\n\nimport \"./SymboInfo.vue?vue&type=style&index=0&id=c776dde2&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-c776dde2\"\n\nexport default script","<!--\n * @Author: your name\n * @Date: 2021-02-25 16:53:08\n * @LastEditTime: 2021-03-17 14:18:34\n * @LastEditors: Please set LastEditors\n * @Description: In User Settings Edit\n * @FilePath: /fronted_v2/src/views/Trade/userRecord.vue\n-->\n<template>\n  <div :class=\"`${prefixCls}`\">\n    <div :class=\"`${prefixCls}__tabs`\">\n      <span\n        :class=\"{ active: tabIndex === index }\"\n        v-for=\"(item, index) in tabLists\"\n        :key=\"index\"\n        @click=\"handleChageTab(index)\"\n        >{{ item }}</span\n      >\n    </div>\n    <Hold v-if=\"tabIndex === 0\" />\n    <UserClinch v-if=\"tabIndex === 1\" />\n    <Fee v-if=\"tabIndex === 2\" />\n  </div>\n</template>\n<script lang=\"ts\">\n  import { defineComponent, ref } from 'vue';\n  import { useDesign } from '@/hooks/useDesign';\n  import Hold from './hold.vue';\n  import UserClinch from './UserClinch.vue';\n  import Fee from './Fees.vue';\n  export default defineComponent({\n    name: 'userRecord',\n    components: { Hold, UserClinch, Fee },\n    data() {\n      return {\n        tabLists: ['持有仓位[0]', '成交记录', '资金费用记录'],\n      };\n    },\n    setup() {\n      const tabIndex = ref(0);\n      const { prefixCls } = useDesign('user-record');\n      const handleChageTab = (index: number) => {\n        tabIndex.value = index;\n      };\n      return { prefixCls, tabIndex, handleChageTab };\n    },\n  });\n</script>\n<style lang=\"less\" scoped>\n  @prefix-cls:~ '@{namespace}-user-record';\n  .@{prefix-cls} {\n    @apply flex-1 mt-1 px-8;\n    &__tabs {\n      height: 40px;\n\n      @apply relative flex flex-row;\n      &:after {\n        content: '';\n        height: 1px;\n        background: rgba(#f7f7f7, 0.1);\n        @apply block absolute w-full left-0 bottom-0;\n      }\n      span {\n        line-height: 40px;\n        margin-right: 30px;\n        border-bottom: 3px solid transparent;\n        @apply cursor-pointer select-none text-gray-460;\n        &.active {\n          @apply text-white;\n          border-image: linear-gradient(90deg, var(--color-primary), var(--color-second)) 1 1;\n        }\n      }\n    }\n  }\n</style>\n","<!--\n * @Author: your name\n * @Date: 2021-02-25 18:50:17\n * @LastEditTime: 2021-03-23 10:57:17\n * @LastEditors: Please set LastEditors\n * @Description: In User Settings Edit\n * @FilePath: /fronted_v2/src/views/Trade/hold.vue\n-->\n<template>\n  <div :class=\"`${prefixCls}__list`\">\n    <div :class=\"`${prefixCls}__list--item`\" class=\"text-gray-460 mt-3\">\n      <span class=\"col\">资产</span>\n      <span class=\"col\">方向</span>\n      <span class=\"col\">杠杆</span>\n      <span class=\"col\">数量</span>\n      <span class=\"col\">开仓均价</span>\n      <div class=\"col\">\n        <ToolTips class=\"inline-block\" placement=\"top\" trigger=\"hover\">\n          <span class=\"borderd\">强平价格</span>\n          <template v-slot:content\n            ><div class=\"text-left\"\n              >当仓位保证金率=维持保证金率+强平手续费率时<br />的价格，若市场触发此价格，将启动清仓</div\n            ></template\n          >\n        </ToolTips>\n      </div>\n      <div class=\"col\">\n        <ToolTips class=\"inline-block\" placement=\"top\" trigger=\"hover\">\n          <span class=\"borderd\">保证金</span>\n          <template v-slot:content><div>用户当前所有持仓的抵押金数量</div></template>\n        </ToolTips>\n      </div>\n      <div class=\"col\">\n        <ToolTips class=\"inline-block\" placement=\"top\" trigger=\"hover\">\n          <span class=\"borderd\">保证金率</span>\n          <template v-slot:content\n            ><div class=\"text-left\"\n              >保证金率=（保证金额+未实现盈亏）/开仓价值。<br />保证金率越低，风险越高。保证金率低于维持<br />保证金率时，仓位将会被系统强制平仓</div\n            ></template\n          >\n        </ToolTips>\n      </div>\n      <div class=\"col\">\n        <ToolTips class=\"inline-block\" placement=\"top\" trigger=\"hover\">\n          <span class=\"borderd\">未实现盈亏</span>\n          <template v-slot:content\n            ><div class=\"text-left\"\n              >用户未平仓仓位的浮动盈亏，<br />以标记价格为依据计算</div\n            ></template\n          >\n        </ToolTips>\n      </div>\n      <span class=\"text-right col\">操作</span>\n    </div>\n    <div class=\"pt-5\" v-if=\"pendding\"><UiLoading class=\"big\" /></div>\n    <UiNoRecord v-if=\"!lists.length && !pendding\" />\n    <div\n      v-for=\"(item, index) in lists\"\n      :key=\"index\"\n      :class=\"`${prefixCls}__list--item`\"\n      class=\"text-white\"\n    >\n      <span class=\"col uppercase\">{{ item.name }}</span>\n      <span class=\"text-green-410 col\">{{ item.type === 0 ? '多' : '空' }}</span>\n      <span class=\"col\">{{ item.lerve }}X</span>\n      <span class=\"col\">{{ bigNumberForamte(item.volume) }}</span>\n      <span class=\"col\">{{ bigNumberForamte(item.openPrice, 2) }}</span>\n      <span class=\"col\">{{ bigNumberForamte(item.closePrice, 2) }}</span>\n      <span class=\"col\">{{ bigNumberForamte(item.margin, 2) }}</span>\n      <span class=\"col\">{{ bigNumberForamte(item.marginRate) }}%</span>\n      <span class=\"col\">{{ bigNumberForamte(item.unrealized, 2) }}</span>\n      <span class=\"text-right col\"\n        ><a\n          href=\"javascript:;\"\n          @click=\"handleClickModal(ModalType.EARNEST_MONEY, true, item)\"\n          class=\"mr-8\"\n          >保证金管理</a\n        >\n        <a href=\"javascript:;\" @click=\"handleClickModal(ModalType.CLOSE_POSITION, true, item)\"\n          >强平</a\n        ></span\n      >\n    </div>\n    <Teleport to=\"#modals\">\n      <ModalEarnestMoney\n        :positionInfo=\"positionInfo\"\n        :address=\"'0x00e7B36aabe3FCdCe306DCD819F022A853cb5578'\"\n        :open=\"open.earnestMoney\"\n        @close=\"handleClickModal(ModalType.EARNEST_MONEY, false)\"\n      />\n    </Teleport>\n    <Teleport to=\"#modals\">\n      <ModalClosePosition\n        :open=\"open.closePosition\"\n        :positionInfo=\"positionInfo\"\n        :address=\"'0x00e7B36aabe3FCdCe306DCD819F022A853cb5578'\"\n        @close=\"handleClickModal(ModalType.CLOSE_POSITION, false)\"\n      />\n    </Teleport>\n  </div>\n</template>\n<script lang=\"ts\">\n  import { computed, defineComponent, onMounted, reactive, ref, watch } from 'vue';\n  import { useDesign } from '@/hooks/useDesign';\n  import { positionApi } from '@/api/trade/position';\n  import { bigNumberForamte } from '@/utils';\n  import { accountStore } from '@/store/modules/account';\n  enum ModalType {\n    EARNEST_MONEY,\n    CLOSE_POSITION,\n  }\n  export default defineComponent({\n    name: 'userRecord',\n    setup() {\n      const { prefixCls } = useDesign('record');\n      const open = reactive({\n        earnestMoney: false,\n        closePosition: false,\n      });\n      const margin = ref('');\n      const marginRate = ref('');\n      const openPrice = ref('');\n      const closePrice = ref('');\n      const volume = ref('');\n      const positionInfo = ref();\n      const pendding = ref(false);\n      const lists = ref<any>([]);\n      const account = computed(() => {\n        const { connector, address } = accountStore.getAccountState;\n        if (!connector || !connector.id || !address) {\n          return '';\n        }\n        return address;\n      });\n      function handleClickModal(type: ModalType, value: boolean, data?: any) {\n        if (value) {\n          positionInfo.value = data;\n        }\n        if (type === ModalType.EARNEST_MONEY) open.earnestMoney = value;\n        if (type === ModalType.CLOSE_POSITION) open.closePosition = value;\n      }\n      async function fetchPosition() {\n        try {\n          pendding.value = true;\n          const result = await positionApi();\n\n          lists.value = result ? result : ([] as any);\n          pendding.value = false;\n        } catch (error) {\n          console.error(error);\n        }\n      }\n      watch(account, async (nVal, oVal) => {\n        if (nVal) {\n          if (nVal !== oVal) fetchPosition();\n        } else {\n          lists.value = [];\n        }\n      });\n      onMounted(() => {\n        account.value && fetchPosition();\n      });\n      return {\n        prefixCls,\n        ModalType,\n        handleClickModal,\n        open,\n        pendding,\n        lists,\n        bigNumberForamte,\n        positionInfo,\n      };\n    },\n  });\n</script>\n<style lang=\"less\" scoped>\n  @prefix-cls:~ '@{namespace}-record';\n  .@{prefix-cls} {\n    &__list {\n      &--item {\n        margin-bottom: 13px;\n        &:last-child {\n          @apply mb-0;\n        }\n        @apply flex flex-row text-left text-xs;\n        .col {\n          line-height: 14px;\n          @apply flex-1;\n          &:last-child {\n            flex-grow: 1.6;\n            @aplpy text-right;\n          }\n          .borderd {\n            border-bottom: 1px dashed rgba(247, 247, 247, 0.1);\n            padding-bottom: 4px;\n          }\n        }\n      }\n    }\n  }\n</style>\n","/*\n * @Author: your name\n * @Date: 2021-03-09 11:03:19\n * @LastEditTime: 2021-03-23 10:01:46\n * @LastEditors: Please set LastEditors\n * @Description: In User Settings Edit\n * @FilePath: /fronted_v2/src/api/trade/hold.ts\n */\n\n// http://119.28.112.85:5000/v1/funding_payment\nimport { defHttp } from '@/utils/http/axios';\n\nenum Api {\n  POSITION = '/user/position',\n}\n\nexport function positionApi() {\n  return defHttp.request({\n    url: Api.POSITION,\n    method: 'POST',\n  });\n}\n","\n  import { computed, defineComponent, onMounted, reactive, ref, watch } from 'vue';\n  import { useDesign } from '@/hooks/useDesign';\n  import { positionApi } from '@/api/trade/position';\n  import { bigNumberForamte } from '@/utils';\n  import { accountStore } from '@/store/modules/account';\n  enum ModalType {\n    EARNEST_MONEY,\n    CLOSE_POSITION,\n  }\n  export default defineComponent({\n    name: 'userRecord',\n    setup() {\n      const { prefixCls } = useDesign('record');\n      const open = reactive({\n        earnestMoney: false,\n        closePosition: false,\n      });\n      const margin = ref('');\n      const marginRate = ref('');\n      const openPrice = ref('');\n      const closePrice = ref('');\n      const volume = ref('');\n      const positionInfo = ref();\n      const pendding = ref(false);\n      const lists = ref<any>([]);\n      const account = computed(() => {\n        const { connector, address } = accountStore.getAccountState;\n        if (!connector || !connector.id || !address) {\n          return '';\n        }\n        return address;\n      });\n      function handleClickModal(type: ModalType, value: boolean, data?: any) {\n        if (value) {\n          positionInfo.value = data;\n        }\n        if (type === ModalType.EARNEST_MONEY) open.earnestMoney = value;\n        if (type === ModalType.CLOSE_POSITION) open.closePosition = value;\n      }\n      async function fetchPosition() {\n        try {\n          pendding.value = true;\n          const result = await positionApi();\n\n          lists.value = result ? result : ([] as any);\n          pendding.value = false;\n        } catch (error) {\n          console.error(error);\n        }\n      }\n      watch(account, async (nVal, oVal) => {\n        if (nVal) {\n          if (nVal !== oVal) fetchPosition();\n        } else {\n          lists.value = [];\n        }\n      });\n      onMounted(() => {\n        account.value && fetchPosition();\n      });\n      return {\n        prefixCls,\n        ModalType,\n        handleClickModal,\n        open,\n        pendding,\n        lists,\n        bigNumberForamte,\n        positionInfo,\n      };\n    },\n  });\n","import { render } from \"./hold.vue?vue&type=template&id=0c2e21d2&scoped=true\"\nimport script from \"./hold.vue?vue&type=script&lang=ts\"\nexport * from \"./hold.vue?vue&type=script&lang=ts\"\n\nimport \"./hold.vue?vue&type=style&index=0&id=0c2e21d2&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-0c2e21d2\"\n\nexport default script","<!--\n * @Author: your name\n * @Date: 2021-02-25 19:06:33\n * @LastEditTime: 2021-03-23 10:57:35\n * @LastEditors: Please set LastEditors\n * @Description: In User Settings Edit\n * @FilePath: /fronted_v2/src/views/Trade/UserClinch.vue\n-->\n<template>\n  <div :class=\"`${prefixCls}__list`\">\n    <div :class=\"`${prefixCls}__list--item`\" class=\"text-gray-460 mt-3\">\n      <span>成交时间</span>\n      <span>合约</span>\n      <span>交易类型</span>\n      <span>成交数量</span>\n      <span>成交均价</span>\n      <span>手续费</span>\n      <span>已实现盈亏</span>\n      <span class=\"text-right\">操作</span>\n    </div>\n    <div class=\"pt-5\" v-if=\"pendding\"><UiLoading class=\"big\" /></div>\n    <UiNoRecord v-if=\"!lists.length && !pendding\" />\n    <div\n      v-else\n      v-for=\"({ name, type, volume, realized, price, fee, time }, index) in lists\"\n      :key=\"index\"\n      :class=\"`${prefixCls}__list--item`\"\n      class=\"text-white\"\n    >\n      <span>{{ dataFormate(time) }}</span>\n      <span class=\"uppercase\">{{ name }}</span>\n      <span :class=\"type ? 'text-green-410' : 'text-red-410'\">{{\n        type ? '买入开多' : '卖出开空'\n      }}</span>\n      <span>{{ bigNumberForamte(volume) }}</span>\n      <span>{{ bigNumberForamte(price, 2) }}</span>\n      <span>{{ bigNumberForamte(fee) }}</span>\n      <span>{{ bigNumberForamte(realized, 2) }}</span>\n      <span class=\"text-right\"><a href=\"\" target=\"_blank\">链上交易</a></span>\n    </div>\n  </div>\n</template>\n<script lang=\"ts\">\n  import { defineComponent, ref, computed, watch, onMounted } from 'vue';\n  import { useDesign } from '@/hooks/useDesign';\n  import { getTradeHistoryApi } from '@/api/trade/tradeHistory';\n  import { dataFormate } from '@/helper/utils';\n  import { bigNumberForamte } from '@/utils';\n  import { accountStore } from '@/store/modules/account';\n  export default defineComponent({\n    name: 'userClinch',\n    setup() {\n      const lists = ref([]);\n      const pendding = ref(false);\n      const { prefixCls } = useDesign('record');\n      const account = computed(() => {\n        const { connector, address } = accountStore.getAccountState;\n        if (!connector || !connector.id || !address) {\n          return '';\n        }\n        return address;\n      });\n      async function fetchUserClinch() {\n        try {\n          pendding.value = true;\n          const result = await getTradeHistoryApi();\n          lists.value = result || [];\n          pendding.value = false;\n        } catch (error) {\n          console.error(error);\n        } finally {\n          pendding.value = false;\n        }\n      }\n      watch(account, (nVal, oVal) => {\n        if (nVal) {\n          if (nVal !== oVal) {\n            fetchUserClinch();\n          }\n        } else {\n          lists.value = [];\n        }\n      });\n      onMounted(() => {\n        account.value && fetchUserClinch();\n      });\n      return { prefixCls, lists, dataFormate, bigNumberForamte, pendding };\n    },\n  });\n</script>\n<style lang=\"less\" scoped>\n  @prefix-cls:~ '@{namespace}-record';\n  .@{prefix-cls} {\n    &__list {\n      &--item {\n        margin-bottom: 13px;\n        &:last-child {\n          @apply mb-0;\n        }\n        @apply flex flex-row text-left text-xs justify-between;\n        span {\n          &:first-child {\n            flex-grow: 1.8;\n          }\n          line-height: 14px;\n          @apply flex-1;\n          &:last-child {\n            flex-shrink: 0.5;\n            @aplpy text-right;\n          }\n        }\n      }\n    }\n  }\n</style>\n","/*\n * @Author: your name\n * @Date: 2021-03-10 11:34:39\n * @LastEditTime: 2021-03-15 14:35:42\n * @LastEditors: Please set LastEditors\n * @Description: In User Settings Edit\n * @FilePath: /fronted_v2/src/api/trade/tradeHistory.ts\n */\nimport { defHttp } from '@/utils/http/axios';\n\nenum Api {\n  TRADE_HISTORY = '/user/trade',\n}\n\nexport function getTradeHistoryApi() {\n  return defHttp.request({\n    url: Api.TRADE_HISTORY,\n    method: 'POST',\n  });\n}\n","\n  import { defineComponent, ref, computed, watch, onMounted } from 'vue';\n  import { useDesign } from '@/hooks/useDesign';\n  import { getTradeHistoryApi } from '@/api/trade/tradeHistory';\n  import { dataFormate } from '@/helper/utils';\n  import { bigNumberForamte } from '@/utils';\n  import { accountStore } from '@/store/modules/account';\n  export default defineComponent({\n    name: 'userClinch',\n    setup() {\n      const lists = ref([]);\n      const pendding = ref(false);\n      const { prefixCls } = useDesign('record');\n      const account = computed(() => {\n        const { connector, address } = accountStore.getAccountState;\n        if (!connector || !connector.id || !address) {\n          return '';\n        }\n        return address;\n      });\n      async function fetchUserClinch() {\n        try {\n          pendding.value = true;\n          const result = await getTradeHistoryApi();\n          lists.value = result || [];\n          pendding.value = false;\n        } catch (error) {\n          console.error(error);\n        } finally {\n          pendding.value = false;\n        }\n      }\n      watch(account, (nVal, oVal) => {\n        if (nVal) {\n          if (nVal !== oVal) {\n            fetchUserClinch();\n          }\n        } else {\n          lists.value = [];\n        }\n      });\n      onMounted(() => {\n        account.value && fetchUserClinch();\n      });\n      return { prefixCls, lists, dataFormate, bigNumberForamte, pendding };\n    },\n  });\n","import { render } from \"./UserClinch.vue?vue&type=template&id=4d3d5625&scoped=true\"\nimport script from \"./UserClinch.vue?vue&type=script&lang=ts\"\nexport * from \"./UserClinch.vue?vue&type=script&lang=ts\"\n\nimport \"./UserClinch.vue?vue&type=style&index=0&id=4d3d5625&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-4d3d5625\"\n\nexport default script","<!--\n * @Author: your name\n * @Date: 2021-02-25 19:11:22\n * @LastEditTime: 2021-03-23 10:57:48\n * @LastEditors: Please set LastEditors\n * @Description: In User Settings Edit\n * @FilePath: /fronted_v2/src/views/Trade/Fees.vue\n-->\n<template>\n  <div :class=\"`${prefixCls}__list`\">\n    <div :class=\"`${prefixCls}__list--item`\" class=\"text-gray-460 mt-3\">\n      <span>成交时间</span>\n      <span>合约</span>\n      <span>资金费用</span>\n      <span>资金费率</span>\n    </div>\n    <div class=\"pt-5\" v-if=\"pendding\"><UiLoading class=\"big\" /></div>\n    <UiNoRecord v-if=\"!lists.length && !pendding\" />\n    <div\n      v-else\n      v-for=\"({ time, name, amount, rate }, index) in lists\"\n      :key=\"index\"\n      :class=\"`${prefixCls}__list--item`\"\n      class=\"text-white\"\n    >\n      <span>{{ dataFormate(time) }}</span>\n      <span class=\"uppercase\">{{ name }}</span>\n      <span>{{ bigNumberForamte(amount, 2) }}</span>\n      <span>{{ bigNumberForamte(rate, 2) }}</span>\n    </div>\n  </div>\n</template>\n<script lang=\"ts\">\n  import { defineComponent, watch, ref, computed, onMounted } from 'vue';\n  import { useDesign } from '@/hooks/useDesign';\n  import { getFundingPaymentApi } from '@/api/trade/fundingPayment';\n  import { dataFormate } from '@/helper/utils';\n  import { scale, bigNumberForamte } from '@/utils';\n  import { accountStore } from '@/store/modules/account';\n  import BigNumber from 'bignumber.js';\n  export default defineComponent({\n    name: 'fee',\n    setup() {\n      const { prefixCls } = useDesign('record');\n      const lists = ref([]);\n      const pendding = ref(false);\n\n      const account = computed(() => {\n        const { connector, address } = accountStore.getAccountState;\n        if (!connector || !connector.id || !address) {\n          return '';\n        }\n        return address;\n      });\n      async function fetchFundingPayment() {\n        try {\n          pendding.value = true;\n          const result = await getFundingPaymentApi();\n          lists.value = result;\n          pendding.value = false;\n        } catch (error) {\n          console.error(error);\n        } finally {\n          pendding.value = false;\n        }\n      }\n      watch(account, (nVal, oVal) => {\n        if (nVal) {\n          if (nVal !== oVal) {\n            fetchFundingPayment();\n          }\n        } else {\n          lists.value = [];\n        }\n      });\n      onMounted(() => {\n        account.value && fetchFundingPayment();\n      });\n      return { prefixCls, lists, dataFormate, bigNumberForamte, pendding };\n    },\n  });\n</script>\n<style lang=\"less\" scoped>\n  @prefix-cls:~ '@{namespace}-record';\n  .@{prefix-cls} {\n    &__list {\n      &--item {\n        margin-bottom: 13px;\n        &:last-child {\n          @apply mb-0;\n        }\n        @apply flex flex-row text-left text-xs;\n        span {\n          line-height: 14px;\n          @apply flex-1;\n          &:nth-child(1) {\n            flex-grow: 4;\n          }\n\n          &:nth-child(2),\n          &:nth-child(3) {\n            flex-grow: 3;\n          }\n          &:last-child {\n            flex-grow: 1;\n            @apply text-right;\n          }\n        }\n      }\n    }\n  }\n</style>\n","/*\n * @Author: your name\n * @Date: 2021-03-10 10:03:44\n * @LastEditTime: 2021-03-15 14:48:03\n * @LastEditors: Please set LastEditors\n * @Description: In User Settings Edit\n * @FilePath: /fronted_v2/src/api/trade/fundingPayment.ts\n */\nimport { defHttp } from '@/utils/http/axios';\n\nenum Api {\n  FUNFING_PAYMENT = '/user/funding',\n}\n\nexport function getFundingPaymentApi() {\n  return defHttp.request({\n    url: Api.FUNFING_PAYMENT,\n    method: 'POST',\n  });\n}\n","\n  import { defineComponent, watch, ref, computed, onMounted } from 'vue';\n  import { useDesign } from '@/hooks/useDesign';\n  import { getFundingPaymentApi } from '@/api/trade/fundingPayment';\n  import { dataFormate } from '@/helper/utils';\n  import { scale, bigNumberForamte } from '@/utils';\n  import { accountStore } from '@/store/modules/account';\n  import BigNumber from 'bignumber.js';\n  export default defineComponent({\n    name: 'fee',\n    setup() {\n      const { prefixCls } = useDesign('record');\n      const lists = ref([]);\n      const pendding = ref(false);\n\n      const account = computed(() => {\n        const { connector, address } = accountStore.getAccountState;\n        if (!connector || !connector.id || !address) {\n          return '';\n        }\n        return address;\n      });\n      async function fetchFundingPayment() {\n        try {\n          pendding.value = true;\n          const result = await getFundingPaymentApi();\n          lists.value = result;\n          pendding.value = false;\n        } catch (error) {\n          console.error(error);\n        } finally {\n          pendding.value = false;\n        }\n      }\n      watch(account, (nVal, oVal) => {\n        if (nVal) {\n          if (nVal !== oVal) {\n            fetchFundingPayment();\n          }\n        } else {\n          lists.value = [];\n        }\n      });\n      onMounted(() => {\n        account.value && fetchFundingPayment();\n      });\n      return { prefixCls, lists, dataFormate, bigNumberForamte, pendding };\n    },\n  });\n","import { render } from \"./Fees.vue?vue&type=template&id=689238e7&scoped=true\"\nimport script from \"./Fees.vue?vue&type=script&lang=ts\"\nexport * from \"./Fees.vue?vue&type=script&lang=ts\"\n\nimport \"./Fees.vue?vue&type=style&index=0&id=689238e7&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-689238e7\"\n\nexport default script","\n  import { defineComponent, ref } from 'vue';\n  import { useDesign } from '@/hooks/useDesign';\n  import Hold from './hold.vue';\n  import UserClinch from './UserClinch.vue';\n  import Fee from './Fees.vue';\n  export default defineComponent({\n    name: 'userRecord',\n    components: { Hold, UserClinch, Fee },\n    data() {\n      return {\n        tabLists: ['持有仓位[0]', '成交记录', '资金费用记录'],\n      };\n    },\n    setup() {\n      const tabIndex = ref(0);\n      const { prefixCls } = useDesign('user-record');\n      const handleChageTab = (index: number) => {\n        tabIndex.value = index;\n      };\n      return { prefixCls, tabIndex, handleChageTab };\n    },\n  });\n","import { render } from \"./userRecord.vue?vue&type=template&id=60b169dd&scoped=true\"\nimport script from \"./userRecord.vue?vue&type=script&lang=ts\"\nexport * from \"./userRecord.vue?vue&type=script&lang=ts\"\n\nimport \"./userRecord.vue?vue&type=style&index=0&id=60b169dd&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-60b169dd\"\n\nexport default script","\n  import { defineComponent } from 'vue';\n  import { useDesign } from '@/hooks/useDesign';\n  import TradingRecord from './TradingRecord.vue';\n  import SymbolInfo from './SymboInfo.vue';\n  import UserRecord from './userRecord.vue';\n  export default defineComponent({\n    name: 'info',\n    components: { TradingRecord, SymbolInfo, UserRecord },\n    setup() {\n      const { prefixCls } = useDesign('info');\n      return { prefixCls };\n    },\n  });\n","import { render } from \"./Info.vue?vue&type=template&id=5c5b03ed&scoped=true\"\nimport script from \"./Info.vue?vue&type=script&lang=ts\"\nexport * from \"./Info.vue?vue&type=script&lang=ts\"\n\nimport \"./Info.vue?vue&type=style&index=0&id=5c5b03ed&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-5c5b03ed\"\n\nexport default script","\n  import { computed, defineComponent, onMounted } from 'vue';\n  import Trade from './Trade.vue';\n  import Info from './Info.vue';\n  import { useDesign } from '@/hooks/useDesign';\n  import { tradeConfStore } from '@/store/modules/tradeConf';\n  import { modalStore } from '@/store/modules/modal';\n  export default defineComponent({\n    name: 'container',\n    components: {\n      Trade,\n      Info,\n    },\n    setup() {\n      const { prefixCls } = useDesign('trade-wrap');\n      const isOpen = computed(() => {\n        return modalStore.getConnectorsModalState;\n      });\n\n      function handleClose() {\n        modalStore.setConnectorModalState(false);\n      }\n      onMounted(() => {\n        // 请求交易配置信息\n        tradeConfStore.fetchTokens();\n      });\n      return { prefixCls, isOpen, handleClose };\n    },\n  });\n","import { render } from \"./Container.vue?vue&type=template&id=d8ef25f4&scoped=true\"\nimport script from \"./Container.vue?vue&type=script&lang=ts\"\nexport * from \"./Container.vue?vue&type=script&lang=ts\"\n\nimport \"./Container.vue?vue&type=style&index=0&id=d8ef25f4&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-d8ef25f4\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./userRecord.vue?vue&type=style&index=0&id=60b169dd&lang=less&scoped=true\""],"sourceRoot":""}